<!DOCTYPE html>
<html>
    <head>
        <title>WebChunks</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <link rel="stylesheet" type="text/css" href="../css/main.css"/>
        <script type="text/javascript" src="../js/main.js"></script>
        <link rel="icon" href="../images/favicon.png" type="image/png">
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
            ga('create', 'UA-56624196-1', 'auto');
            ga('send', 'pageview');
        </script>
    </head>
    <body>
        <div id="page">
            <div id="top" class="header">
                <a href="index.html"><img id="logo" width="100" alt="webchunks" src="../images/logo_150x172.png"/></a>
                <div id="header">
                    <div id="title">WebChunks
                        <div id="line"></div>
                    </div>
                    <div id="lang-select">
                        <span>Рус</span>|<a href="../en/examples.html" onclick="setCookie('lang', 'en');">Eng</a>
                    </div>
                    <div id="header-menu">
                        <div  class="menu-item"><a href="links.html">Ссылки</a></div><div  class="menu-item-disabled"><span>Примеры</span></div><div  class="menu-item"><a href="demo.html">Демо</a></div>
                    </div>
                    <div id="subtitle"><span id="subtitile-text">Примеры</span></div>
                </div>
            </div>
            <div class="layout">
                <div class="col1">
                    <div id="home" class="menu-item"><a href="index.html">Главная</a></div>
                </div>
                <div  class="col2">
                    <div id="content">
                        <strong>К сожалению данный раздел сайта находится в разработке</strong>
<p>
<p><a class="anchor" name="contents"/><ol><li><a href="#1">Привет, Мир!</a></li><li><a href="#2">Слушатели</a></li><li><a href="#3">Модели</a></li><li><a href="#4">Полезность моделей</a></li><li><a href="#5">Кастомизация</a></li></ol>
<p>
<p><h2><a class="to-contents" href="#contents">§</a><a class="anchor" name="1"></a>Привет, Мир!</h2>
<p>Традиционный "Hello, World". В примере рассматривается минимальное приложение, использующее WebChunks.
<p>
<p>Создадим web-приложение и подключим необходимые библиотеки. Если подключать библиотеки вручную то потребуются <strong>webchunks.core</strong>, <strong>webchunks.simpleui</strong>, <strong>google guava</strong>, <strong>apache common</strong> и <strong>jtidy</strong>. 
<p><img class="left" src="../images/examples/1/libraries.png" class="image" alt="libraries"/>
<p>Если использовать maven, то достаточно подключить только webchunks.simpleui, остальные зависимости будут загружены автоматически.
<p>
<p>Создадим необходимые классы: WcDemoServlet.java - сервлет, запускающий приложение, WcDemoApplication.java - само приложение, WcDemoPage.java - класс главной страницы.
<p><img class="left" src="../images/examples/1/classes.png" class="image" alt="classes"/>
<p><strong>WcDemoServlet.java</strong><div class='java'>
<pre><span style="color:#800000; font-weight:bold; ">package</span><span style="color:#004a43; "> demo</span><span style="color:#800080; ">;</span>


<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> java</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">util</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">Properties</span><span style="color:#800080; ">;</span>

<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">base</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">servlet</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">WebChunksServlet</span><span style="color:#800080; ">;</span>

<span style="color:#3f5fbf; ">/**</span>
<span style="color:#3f5fbf; ">&nbsp;</span><span style="color:#7f9fbf; font-weight:bold; ">*</span><span style="color:#3f5fbf; "></span>
<span style="color:#3f5fbf; ">&nbsp;</span><span style="color:#7f9fbf; font-weight:bold; ">*</span><span style="color:#3f5fbf; "> </span><span style="color:#7f9fbf; font-weight:bold; ">@author</span><span style="color:#3f5fbf; "> </span><span style="color:#7f9fbf; font-weight:bold; ">Petr Zalyautdinov (Заляутдинов Пётр) &lt;zalyautdinov.petr@gmail.com<script type="text/javascript">
/* <![CDATA[ */
(function(){try{var s,a,i,j,r,c,l,b=document.getElementsByTagName("script");l=b[b.length-1].previousSibling;a=l.getAttribute('data-cfemail');if(a){s='';r=parseInt(a.substr(0,2),16);for(j=2;a.length-j;j+=2){c=parseInt(a.substr(j,2),16)^r;s+=String.fromCharCode(c);}s=document.createTextNode(s);l.parentNode.replaceChild(s,l);}}catch(e){}})();
/* ]]> */
</script>&gt;</span><span style="color:#3f5fbf; "></span>
<span style="color:#3f5fbf; ">&nbsp;*/</span>
<span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#800000; font-weight:bold; ">class</span> WcDemoServlet <span style="color:#800000; font-weight:bold; ">extends</span> WebChunksServlet&lt;WcDemoApplication&gt; <span style="color:#800080; ">{</span>

    <span style="color:#808030; ">@</span>Override
    <span style="color:#800000; font-weight:bold; ">protected</span> WcDemoApplication createApplication<span style="color:#808030; ">(</span><span style="color:#bb7977; font-weight:bold; ">Properties</span> prprts<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#800000; font-weight:bold; ">new</span> WcDemoApplication<span style="color:#808030; ">(</span>prprts<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

<span style="color:#800080; ">}</span>
</pre>
</div>
<p>
<p><strong>WcDemoApplication.java</strong><div class='java'>
<pre><span style="color:#800000; font-weight:bold; ">package</span><span style="color:#004a43; "> demo</span><span style="color:#800080; ">;</span>

<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> java</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">util</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">Collections</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> java</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">util</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">Map</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> java</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">util</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">Properties</span><span style="color:#800080; ">;</span>

<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">base</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">application</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">Application</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">base</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">application</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">Request</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">base</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">html</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">component</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">Page</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">base</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">html</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">update</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">UpdateManager</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">base</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">resource</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">ResourceManager</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">simpleui</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">html</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">resource</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">SimpleResourceManager</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">simpleui</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">html</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">update</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">SimpleUpdateManager</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">simpleui</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">ui</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">SimpleUI</span><span style="color:#800080; ">;</span>

<span style="color:#3f5fbf; ">/**</span>
<span style="color:#3f5fbf; ">&nbsp;</span><span style="color:#7f9fbf; font-weight:bold; ">*</span><span style="color:#3f5fbf; "></span>
<span style="color:#3f5fbf; ">&nbsp;</span><span style="color:#7f9fbf; font-weight:bold; ">*</span><span style="color:#3f5fbf; "> </span><span style="color:#7f9fbf; font-weight:bold; ">@author</span><span style="color:#3f5fbf; "> </span><span style="color:#7f9fbf; font-weight:bold; ">Petr Zalyautdinov (Заляутдинов Пётр) &lt;zalyautdinov.petr@gmail.com<script type="text/javascript">
/* <![CDATA[ */
(function(){try{var s,a,i,j,r,c,l,b=document.getElementsByTagName("script");l=b[b.length-1].previousSibling;a=l.getAttribute('data-cfemail');if(a){s='';r=parseInt(a.substr(0,2),16);for(j=2;a.length-j;j+=2){c=parseInt(a.substr(j,2),16)^r;s+=String.fromCharCode(c);}s=document.createTextNode(s);l.parentNode.replaceChild(s,l);}}catch(e){}})();
/* ]]> */
</script>&gt;</span><span style="color:#3f5fbf; "></span>
<span style="color:#3f5fbf; ">&nbsp;*/</span>
<span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#800000; font-weight:bold; ">class</span> WcDemoApplication <span style="color:#800000; font-weight:bold; ">extends</span> Application&lt;SimpleUI&gt; <span style="color:#800080; ">{</span>

    <span style="color:#800000; font-weight:bold; ">public</span> WcDemoApplication<span style="color:#808030; ">(</span><span style="color:#bb7977; font-weight:bold; ">Properties</span> config<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">super</span><span style="color:#808030; ">(</span>config<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

    <span style="color:#808030; ">@</span>Override
    <span style="color:#800000; font-weight:bold; ">protected</span> UpdateManager initUpdateManager<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#800000; font-weight:bold; ">new</span> SimpleUpdateManager<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

    <span style="color:#808030; ">@</span>Override
    <span style="color:#800000; font-weight:bold; ">protected</span> ResourceManager initResourceManager<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#800000; font-weight:bold; ">new</span> SimpleResourceManager<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

    <span style="color:#808030; ">@</span>Override
    <span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#bb7977; font-weight:bold; ">String</span> getApplicationName<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#0000e6; ">"HelloWorldApp"</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

    <span style="color:#808030; ">@</span>Override
    <span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#bb7977; ">int</span> getSessionDuration<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#008c00; ">100</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

    <span style="color:#808030; ">@</span>Override
    <span style="color:#800000; font-weight:bold; ">protected</span> Page createMainPage<span style="color:#808030; ">(</span>Request rqst<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#800000; font-weight:bold; ">new</span> WcDemoPage<span style="color:#808030; ">(</span>rqst<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

    <span style="color:#808030; ">@</span>Override
    <span style="color:#800000; font-weight:bold; ">protected</span> Map<span style="color:#808030; ">&lt;</span><span style="color:#bb7977; font-weight:bold; ">String</span><span style="color:#808030; ">,</span> <span style="color:#bb7977; font-weight:bold; ">Class</span><span style="color:#808030; ">&lt;</span><span style="color:#808030; ">?</span> <span style="color:#800000; font-weight:bold; ">extends</span> Page<span style="color:#808030; ">&gt;</span><span style="color:#808030; ">&gt;</span> initPages<span style="color:#808030; ">(</span><span style="color:#bb7977; font-weight:bold; ">String</span> string<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">return</span> Collections<span style="color:#808030; ">.</span>EMPTY_MAP<span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

    <span style="color:#808030; ">@</span>Override
    <span style="color:#800000; font-weight:bold; ">protected</span> SimpleUI createUI<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#800000; font-weight:bold; ">new</span> SimpleUI<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

<span style="color:#800080; ">}</span>
</pre>
</div>
<p>
<p><strong>WcDemoPage.java</strong><div class='java'>
<pre><span style="color:#800000; font-weight:bold; ">package</span><span style="color:#004a43; "> demo</span><span style="color:#800080; ">;</span>

<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">base</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">application</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">Request</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">base</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">html</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">component</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">ContainerMutable</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">simpleui</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">html</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">WcLabel</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">simpleui</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">html</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">WcPage</span><span style="color:#800080; ">;</span>

<span style="color:#3f5fbf; ">/**</span>
<span style="color:#3f5fbf; ">&nbsp;</span><span style="color:#7f9fbf; font-weight:bold; ">*</span><span style="color:#3f5fbf; "></span>
<span style="color:#3f5fbf; ">&nbsp;</span><span style="color:#7f9fbf; font-weight:bold; ">*</span><span style="color:#3f5fbf; "> </span><span style="color:#7f9fbf; font-weight:bold; ">@author</span><span style="color:#3f5fbf; "> </span><span style="color:#7f9fbf; font-weight:bold; ">Petr Zalyautdinov (Заляутдинов Пётр) &lt;zalyautdinov.petr@gmail.com<script type="text/javascript">
/* <![CDATA[ */
(function(){try{var s,a,i,j,r,c,l,b=document.getElementsByTagName("script");l=b[b.length-1].previousSibling;a=l.getAttribute('data-cfemail');if(a){s='';r=parseInt(a.substr(0,2),16);for(j=2;a.length-j;j+=2){c=parseInt(a.substr(j,2),16)^r;s+=String.fromCharCode(c);}s=document.createTextNode(s);l.parentNode.replaceChild(s,l);}}catch(e){}})();
/* ]]> */
</script>&gt;</span><span style="color:#3f5fbf; "></span>
<span style="color:#3f5fbf; ">&nbsp;*/</span>
<span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#800000; font-weight:bold; ">class</span> WcDemoPage <span style="color:#800000; font-weight:bold; ">extends</span> WcPage <span style="color:#800080; ">{</span>

    <span style="color:#800000; font-weight:bold; ">public</span> WcDemoPage<span style="color:#808030; ">(</span>Request initData<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">super</span><span style="color:#808030; ">(</span>initData<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

    <span style="color:#808030; ">@</span>Override
    <span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#bb7977; ">void</span> init<span style="color:#808030; ">(</span>ContainerMutable cm<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        addChild<span style="color:#808030; ">(</span><span style="color:#800000; font-weight:bold; ">new</span> WcLabel<span style="color:#808030; ">(</span><span style="color:#0000e6; ">"hwLabel"</span><span style="color:#808030; ">,</span> <span style="color:#0000e6; ">"Hello, World"</span><span style="color:#808030; ">)</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

    <span style="color:#808030; ">@</span>Override
    <span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#bb7977; font-weight:bold; ">String</span> getTitle<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#0000e6; ">"WebChunks Example Page"</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

<span style="color:#800080; ">}</span>
</pre>
</div>
<p>
<p>Сконфигурируем сервлет для обработки всех запросов. Для этого исправим файл web.xml следующим образом:
<p><strong>web.xml</strong><div class='xml'>
<pre style='color:#000000;background:#ffffff;'><html><body style='color:#000000; background:#ffffff; '><pre>
<span style='color:#004a43; '>&lt;?</span><span style='color:#800000; font-weight:bold; '>xml</span><span style='color:#004a43; '> </span><span style='color:#074726; '>version</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>"</span><span style='color:#7d0045; '>1.0</span><span style='color:#0000e6; '>"</span><span style='color:#004a43; '> </span><span style='color:#074726; '>encoding</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>"</span><span style='color:#0000e6; '>UTF-8</span><span style='color:#0000e6; '>"</span><span style='color:#004a43; '>?></span>
<span style='color:#a65700; '>&lt;</span><span style='color:#5f5035; '>web-app</span> <span style='color:#274796; '>version</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>"</span><span style='color:#0000e6; '>3.0</span><span style='color:#0000e6; '>"</span>
         <span style='color:#666616; '>xmlns</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>"</span><span style='color:#666616; '>http</span><span style='color:#800080; '>:</span><span style='color:#800000; font-weight:bold; '>//</span><span style='color:#5555dd; '>java.sun.com</span><span style='color:#40015a; '>/xml/ns/javaee</span><span style='color:#0000e6; '>"</span>
         <span style='color:#666616; '>xmlns</span><span style='color:#800080; '>:</span><span style='color:#074726; '>xsi</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>"</span><span style='color:#666616; '>http</span><span style='color:#800080; '>:</span><span style='color:#800000; font-weight:bold; '>//</span><span style='color:#5555dd; '>www.w3.org</span><span style='color:#40015a; '>/2001/XMLSchema-instance</span><span style='color:#0000e6; '>"</span>
         <span style='color:#666616; '>xsi</span><span style='color:#800080; '>:</span><span style='color:#074726; '>schemaLocation</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>"</span><span style='color:#666616; '>http</span><span style='color:#800080; '>:</span><span style='color:#800000; font-weight:bold; '>//</span><span style='color:#5555dd; '>java.sun.com</span><span style='color:#40015a; '>/xml/ns/javaee</span><span style='color:#0000e6; '> </span><span style='color:#666616; '>http</span><span style='color:#800080; '>:</span><span style='color:#800000; font-weight:bold; '>//</span><span style='color:#5555dd; '>java.sun.com</span><span style='color:#40015a; '>/xml/ns/javaee/web-app_3_0.xsd</span><span style='color:#0000e6; '>"</span><span style='color:#a65700; '>></span>
    <span style='color:#a65700; '>&lt;</span><span style='color:#5f5035; '>servlet</span><span style='color:#a65700; '>></span>
        <span style='color:#a65700; '>&lt;</span><span style='color:#5f5035; '>servlet-name</span><span style='color:#a65700; '>></span>WcDemoServlet<span style='color:#a65700; '>&lt;/</span><span style='color:#5f5035; '>servlet-name</span><span style='color:#a65700; '>></span>
        <span style='color:#a65700; '>&lt;</span><span style='color:#5f5035; '>servlet-class</span><span style='color:#a65700; '>></span>demo.WcDemoServlet<span style='color:#a65700; '>&lt;/</span><span style='color:#5f5035; '>servlet-class</span><span style='color:#a65700; '>></span>
    <span style='color:#a65700; '>&lt;/</span><span style='color:#5f5035; '>servlet</span><span style='color:#a65700; '>></span>
    <span style='color:#a65700; '>&lt;</span><span style='color:#5f5035; '>servlet-mapping</span><span style='color:#a65700; '>></span>
        <span style='color:#a65700; '>&lt;</span><span style='color:#5f5035; '>servlet-name</span><span style='color:#a65700; '>></span>WcDemoServlet<span style='color:#a65700; '>&lt;/</span><span style='color:#5f5035; '>servlet-name</span><span style='color:#a65700; '>></span>
        <span style='color:#a65700; '>&lt;</span><span style='color:#5f5035; '>url-pattern</span><span style='color:#a65700; '>></span>/*<span style='color:#a65700; '>&lt;/</span><span style='color:#5f5035; '>url-pattern</span><span style='color:#a65700; '>></span>
    <span style='color:#a65700; '>&lt;/</span><span style='color:#5f5035; '>servlet-mapping</span><span style='color:#a65700; '>></span>
    <span style='color:#a65700; '>&lt;</span><span style='color:#5f5035; '>session-config</span><span style='color:#a65700; '>></span>
        <span style='color:#a65700; '>&lt;</span><span style='color:#5f5035; '>session-timeout</span><span style='color:#a65700; '>></span>
            30
        <span style='color:#a65700; '>&lt;/</span><span style='color:#5f5035; '>session-timeout</span><span style='color:#a65700; '>></span>
    <span style='color:#a65700; '>&lt;/</span><span style='color:#5f5035; '>session-config</span><span style='color:#a65700; '>></span>
<span style='color:#a65700; '>&lt;/</span><span style='color:#5f5035; '>web-app</span><span style='color:#a65700; '>></span>
</pre>
</div>
<p>
<p>Собираем, запускаем и смотрим на результат:
<p><img class="left" src="../images/examples/1/app.png" class="image" alt="app"/>
<p>
<p>Для загрузки существующего Netbeans проекта, пожалуйста, перейдите по этой <a class="download" href="../files/examples/1/WcDemo.tar.gz">ссылке</a>.
<p>
<p><h2><a class="to-contents" href="#contents">§</a><a class="anchor" name="2"></a>Слушатели</h2>
<p>В этом примере рассматривается работа со слушателями.
<p>Слегка изменим код класса WcDemoPage из предыдущего примера.
<p><strong>WcDemoPage.java</strong><div class='java'>
<pre><span style="color:#800000; font-weight:bold; ">package</span><span style="color:#004a43; "> demo</span><span style="color:#800080; ">;</span>

<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">base</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">application</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">Request</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">base</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">event</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">EventValueChange</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">base</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">html</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">component</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">ContainerMutable</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">base</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">listener</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">ValueListener</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">simpleui</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">html</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">WcInput</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">simpleui</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">html</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">WcLabel</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">simpleui</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">html</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">WcPage</span><span style="color:#800080; ">;</span>

<span style="color:#3f5fbf; ">/**</span>
<span style="color:#3f5fbf; ">&nbsp;</span><span style="color:#7f9fbf; font-weight:bold; ">*</span><span style="color:#3f5fbf; "></span>
<span style="color:#3f5fbf; ">&nbsp;</span><span style="color:#7f9fbf; font-weight:bold; ">*</span><span style="color:#3f5fbf; "> </span><span style="color:#7f9fbf; font-weight:bold; ">@author</span><span style="color:#3f5fbf; "> </span><span style="color:#7f9fbf; font-weight:bold; ">Petr Zalyautdinov (Заляутдинов Пётр) &lt;zalyautdinov.petr@gmail.com<script type="text/javascript">
/* <![CDATA[ */
(function(){try{var s,a,i,j,r,c,l,b=document.getElementsByTagName("script");l=b[b.length-1].previousSibling;a=l.getAttribute('data-cfemail');if(a){s='';r=parseInt(a.substr(0,2),16);for(j=2;a.length-j;j+=2){c=parseInt(a.substr(j,2),16)^r;s+=String.fromCharCode(c);}s=document.createTextNode(s);l.parentNode.replaceChild(s,l);}}catch(e){}})();
/* ]]> */
</script>&gt;</span><span style="color:#3f5fbf; "></span>
<span style="color:#3f5fbf; ">&nbsp;*/</span>
<span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#800000; font-weight:bold; ">class</span> WcDemoPage <span style="color:#800000; font-weight:bold; ">extends</span> WcPage <span style="color:#800080; ">{</span>

    <span style="color:#800000; font-weight:bold; ">private</span> <span style="color:#800000; font-weight:bold; ">final</span> WcInput nameInput <span style="color:#808030; ">=</span> <span style="color:#800000; font-weight:bold; ">new</span> WcInput<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
    <span style="color:#800000; font-weight:bold; ">private</span> <span style="color:#800000; font-weight:bold; ">final</span> WcLabel helloLabel <span style="color:#808030; ">=</span> <span style="color:#800000; font-weight:bold; ">new</span> WcLabel<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>

    <span style="color:#800000; font-weight:bold; ">public</span> WcDemoPage<span style="color:#808030; ">(</span>Request initData<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">super</span><span style="color:#808030; ">(</span>initData<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

    <span style="color:#808030; ">@</span>Override
    <span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#bb7977; ">void</span> init<span style="color:#808030; ">(</span>ContainerMutable cm<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        addChild<span style="color:#808030; ">(</span>nameInput<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
        addChild<span style="color:#808030; ">(</span>helloLabel<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
        nameInput<span style="color:#808030; ">.</span>addListener<span style="color:#808030; ">(</span><span style="color:#800000; font-weight:bold; ">new</span> ValueListener<span style="color:#808030; ">&lt;</span><span style="color:#bb7977; font-weight:bold; ">String</span><span style="color:#808030; ">&gt;</span><span style="color:#808030; ">(</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>

            <span style="color:#808030; ">@</span>Override
            <span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#bb7977; ">void</span> valueChanged<span style="color:#808030; ">(</span>EventValueChange<span style="color:#808030; ">&lt;</span><span style="color:#bb7977; font-weight:bold; ">String</span><span style="color:#808030; ">&gt;</span> evc<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
                helloLabel<span style="color:#808030; ">.</span>setText<span style="color:#808030; ">(</span><span style="color:#0000e6; ">"Hello, "</span> <span style="color:#808030; ">+</span> nameInput<span style="color:#808030; ">.</span>getValue<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
            <span style="color:#800080; ">}</span>
        <span style="color:#800080; ">}</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
        nameInput<span style="color:#808030; ">.</span>setValue<span style="color:#808030; ">(</span><span style="color:#0000e6; ">"World"</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

    <span style="color:#808030; ">@</span>Override
    <span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#bb7977; font-weight:bold; ">String</span> getTitle<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#0000e6; ">"WebChunks Example Page"</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

<span style="color:#800080; ">}</span>
</pre>
</div>
<p>Теперь текст надписи будет автоматически синхронизироваться с полем ввода:
<p><img class="left" src="../images/examples/2/app.png" class="image" alt="app"/>
<p>
<p><h2><a class="to-contents" href="#contents">§</a><a class="anchor" name="3"></a>Модели</h2>
<p>
<p>В данном примере рассматриваются возможности применения моделей, пока в отрыве от реальных задач.
<p>Изменим WcDemoPage следующим образом:
<p>
<p><strong>WcDemoPage.java</strong><div class='java'>
<pre><span style="color:#800000; font-weight:bold; ">package</span><span style="color:#004a43; "> demo</span><span style="color:#800080; ">;</span>

<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">base</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">application</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">Request</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">base</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">html</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">component</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">ContainerMutable</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">base</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">model</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">Model</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">simpleui</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">html</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">WcInput</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">simpleui</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">html</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">WcPage</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">simpleui</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">html</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">WcPanel</span><span style="color:#800080; ">;</span>

<span style="color:#3f5fbf; ">/**</span>
<span style="color:#3f5fbf; ">&nbsp;</span><span style="color:#7f9fbf; font-weight:bold; ">*</span><span style="color:#3f5fbf; "></span>
<span style="color:#3f5fbf; ">&nbsp;</span><span style="color:#7f9fbf; font-weight:bold; ">*</span><span style="color:#3f5fbf; "> </span><span style="color:#7f9fbf; font-weight:bold; ">@author</span><span style="color:#3f5fbf; "> </span><span style="color:#7f9fbf; font-weight:bold; ">Petr Zalyautdinov (Заляутдинов Пётр) &lt;zalyautdinov.petr@gmail.com<script type="text/javascript">
/* <![CDATA[ */
(function(){try{var s,a,i,j,r,c,l,b=document.getElementsByTagName("script");l=b[b.length-1].previousSibling;a=l.getAttribute('data-cfemail');if(a){s='';r=parseInt(a.substr(0,2),16);for(j=2;a.length-j;j+=2){c=parseInt(a.substr(j,2),16)^r;s+=String.fromCharCode(c);}s=document.createTextNode(s);l.parentNode.replaceChild(s,l);}}catch(e){}})();
/* ]]> */
</script>&gt;</span><span style="color:#3f5fbf; "></span>
<span style="color:#3f5fbf; ">&nbsp;*/</span>
<span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#800000; font-weight:bold; ">class</span> WcDemoPage <span style="color:#800000; font-weight:bold; ">extends</span> WcPage <span style="color:#800080; ">{</span>

    <span style="color:#800000; font-weight:bold; ">public</span> WcDemoPage<span style="color:#808030; ">(</span>Request initData<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">super</span><span style="color:#808030; ">(</span>initData<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

    <span style="color:#808030; ">@</span>Override
    <span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#bb7977; ">void</span> init<span style="color:#808030; ">(</span>ContainerMutable cm<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        WcInput inputOriginal <span style="color:#808030; ">=</span> <span style="color:#800000; font-weight:bold; ">new</span> WcInput<span style="color:#808030; ">(</span><span style="color:#0000e6; ">"input-original"</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
        Model<span style="color:#808030; ">&lt;</span><span style="color:#bb7977; font-weight:bold; ">String</span><span style="color:#808030; ">&gt;</span> modelOriginal <span style="color:#808030; ">=</span> inputOriginal<span style="color:#808030; ">.</span>getModel<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
        addChild<span style="color:#808030; ">(</span>inputOriginal<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
        <span style="color:#800000; font-weight:bold; ">for</span> <span style="color:#808030; ">(</span><span style="color:#bb7977; ">int</span> i <span style="color:#808030; ">=</span> <span style="color:#008c00; ">0</span><span style="color:#800080; ">;</span> i <span style="color:#808030; ">&lt;</span> <span style="color:#008c00; ">5</span><span style="color:#800080; ">;</span> i<span style="color:#808030; ">+</span><span style="color:#808030; ">+</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
            WcPanel wcPanel <span style="color:#808030; ">=</span> <span style="color:#800000; font-weight:bold; ">new</span> WcPanel<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
            wcPanel<span style="color:#808030; ">.</span>addChild<span style="color:#808030; ">(</span><span style="color:#800000; font-weight:bold; ">new</span> WcInput<span style="color:#808030; ">(</span><span style="color:#0000e6; ">"input-copy-"</span><span style="color:#808030; ">+</span>i<span style="color:#808030; ">,</span> modelOriginal<span style="color:#808030; ">)</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
            addChild<span style="color:#808030; ">(</span>wcPanel<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
        <span style="color:#800080; ">}</span>
        inputOriginal<span style="color:#808030; ">.</span>setValue<span style="color:#808030; ">(</span><span style="color:#0000e6; ">"Same text!"</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

    <span style="color:#808030; ">@</span>Override
    <span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#bb7977; font-weight:bold; ">String</span> getTitle<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#0000e6; ">"WebChunks Example Page"</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

<span style="color:#800080; ">}</span>
</pre>
</div>
<p>
<p>В примере создаются несколько полей текстового ввода, связанных с одной моделью. В результате изменения на форме любого поля текст в остальных полях становится таким же.
<p><img class="left" src="../images/examples/3/app.png" class="image" alt="app"/>
<p>
<p><h2><a class="to-contents" href="#contents">§</a><a class="anchor" name="4"></a>Полезность моделей</h2>
<p>В данном примере рассматривается вариант применения моделей для практических целей. Допустим, необходимо вводить данные о человеке: имя, фамилия, рост, вес. Более того необходимо иметь возможность вводить рост одновременно и в метрах и в футах, а вес в килограммах и фунтах. Очевидно, что нет смысла хранить по два значения для роста и веса, поэтому пусть данных сохраняются в следующей структуре.
<p><div class='java'><pre><span style="color:#800000; font-weight:bold; ">class</span> Person <span style="color:#800080; ">{</span>

    <span style="color:#800000; font-weight:bold; ">private</span> <span style="color:#bb7977; font-weight:bold; ">String</span> name<span style="color:#800080; ">;</span>
    <span style="color:#800000; font-weight:bold; ">private</span> <span style="color:#bb7977; font-weight:bold; ">String</span> surname<span style="color:#800080; ">;</span>
    <span style="color:#800000; font-weight:bold; ">private</span> <span style="color:#bb7977; font-weight:bold; ">Double</span> height<span style="color:#800080; ">;</span><span style="color:#696969; ">//, m.</span>
    <span style="color:#800000; font-weight:bold; ">private</span> <span style="color:#bb7977; font-weight:bold; ">Double</span> weight<span style="color:#800080; ">;</span><span style="color:#696969; ">//, kg.</span>

    <span style="color:#800000; font-weight:bold; ">public</span> Person<span style="color:#808030; ">(</span><span style="color:#bb7977; font-weight:bold; ">String</span> name<span style="color:#808030; ">,</span> <span style="color:#bb7977; font-weight:bold; ">String</span> surname<span style="color:#808030; ">,</span> <span style="color:#bb7977; font-weight:bold; ">Double</span> height<span style="color:#808030; ">,</span> <span style="color:#bb7977; font-weight:bold; ">Double</span> weight<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">this</span><span style="color:#808030; ">.</span>name <span style="color:#808030; ">=</span> name<span style="color:#800080; ">;</span>
        <span style="color:#800000; font-weight:bold; ">this</span><span style="color:#808030; ">.</span>surname <span style="color:#808030; ">=</span> surname<span style="color:#800080; ">;</span>
        <span style="color:#800000; font-weight:bold; ">this</span><span style="color:#808030; ">.</span>height <span style="color:#808030; ">=</span> height<span style="color:#800080; ">;</span>
        <span style="color:#800000; font-weight:bold; ">this</span><span style="color:#808030; ">.</span>weight <span style="color:#808030; ">=</span> weight<span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

    <span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#bb7977; font-weight:bold; ">String</span> getName<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">return</span> name<span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

    <span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#bb7977; ">void</span> setName<span style="color:#808030; ">(</span><span style="color:#bb7977; font-weight:bold; ">String</span> name<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">this</span><span style="color:#808030; ">.</span>name <span style="color:#808030; ">=</span> name<span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

    <span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#bb7977; font-weight:bold; ">String</span> getSurname<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">return</span> surname<span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

    <span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#bb7977; ">void</span> setSurname<span style="color:#808030; ">(</span><span style="color:#bb7977; font-weight:bold; ">String</span> surname<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">this</span><span style="color:#808030; ">.</span>surname <span style="color:#808030; ">=</span> surname<span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

    <span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#bb7977; font-weight:bold; ">Double</span> getHeight<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">return</span> height<span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

    <span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#bb7977; ">void</span> setHeight<span style="color:#808030; ">(</span><span style="color:#bb7977; font-weight:bold; ">Double</span> height<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">this</span><span style="color:#808030; ">.</span>height <span style="color:#808030; ">=</span> height<span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

    <span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#bb7977; font-weight:bold; ">Double</span> getWeight<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">return</span> weight<span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

    <span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#bb7977; ">void</span> setWeight<span style="color:#808030; ">(</span><span style="color:#bb7977; font-weight:bold; ">Double</span> weight<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">this</span><span style="color:#808030; ">.</span>weight <span style="color:#808030; ">=</span> weight<span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

    <span style="color:#808030; ">@</span>Override
    <span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#bb7977; font-weight:bold; ">String</span> toString<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#0000e6; ">"Person{"</span> <span style="color:#808030; ">+</span> <span style="color:#0000e6; ">"name="</span> <span style="color:#808030; ">+</span> name <span style="color:#808030; ">+</span> <span style="color:#0000e6; ">", surname="</span> <span style="color:#808030; ">+</span> surname <span style="color:#808030; ">+</span> <span style="color:#0000e6; ">", height="</span> <span style="color:#808030; ">+</span> height <span style="color:#808030; ">+</span> <span style="color:#0000e6; ">"m, weight="</span> <span style="color:#808030; ">+</span> weight <span style="color:#808030; ">+</span> <span style="color:#0000e6; ">"kg}"</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

<span style="color:#800080; ">}</span>
</pre>
</div>
<p>Рост и вес хранятся в метрических единицах. Реализовать перенос данных с формы в объект типа Person можно разными способами, можно использовать листенеры, но чем сложнее будут связи между значениями тем сложнее в написании и поддержке будет код, можно создать специальные компонеты, переносящие данные непосредственно в объект Peson, но это потребует создания нового компонента на каждое поле, а можно использовать свой класс моделей для прозрачной синхронизации значений. Реализация последнего варианта будет рассмотрена далее.
<p>Во-первых потребуется специальный класс моделей, который не хранит информацию в отдельном поле а использует объект Person.
<p><div class='java'><pre><span style="color:#800000; font-weight:bold; ">abstract</span> <span style="color:#800000; font-weight:bold; ">class</span> PersonStringModel <span style="color:#800000; font-weight:bold; ">extends</span> AbstractModel&lt;String&gt; <span style="color:#800080; ">{</span>

    <span style="color:#800000; font-weight:bold; ">private</span> <span style="color:#800000; font-weight:bold; ">final</span> Person person<span style="color:#800080; ">;</span>

    <span style="color:#800000; font-weight:bold; ">public</span> PersonStringModel<span style="color:#808030; ">(</span>Person person<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">this</span><span style="color:#808030; ">.</span>person <span style="color:#808030; ">=</span> person<span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

    <span style="color:#808030; ">@</span>Override
    <span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#bb7977; font-weight:bold; ">Class</span><span style="color:#808030; ">&lt;</span><span style="color:#bb7977; font-weight:bold; ">String</span><span style="color:#808030; ">&gt;</span> getValueClass<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#bb7977; font-weight:bold; ">String</span><span style="color:#808030; ">.</span>class<span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

    <span style="color:#808030; ">@</span>Override
    <span style="color:#800000; font-weight:bold; ">protected</span> <span style="color:#bb7977; font-weight:bold; ">String</span> getModelValue<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">return</span> getPersonValue<span style="color:#808030; ">(</span>person<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

    <span style="color:#808030; ">@</span>Override
    <span style="color:#800000; font-weight:bold; ">protected</span> <span style="color:#bb7977; ">void</span> setModelValue<span style="color:#808030; ">(</span><span style="color:#bb7977; font-weight:bold; ">String</span> t<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        setPersonValue<span style="color:#808030; ">(</span>person<span style="color:#808030; ">,</span> t<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

    <span style="color:#800000; font-weight:bold; ">abstract</span> <span style="color:#bb7977; font-weight:bold; ">String</span> getPersonValue<span style="color:#808030; ">(</span>Person person<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>

    <span style="color:#800000; font-weight:bold; ">abstract</span> <span style="color:#bb7977; ">void</span> setPersonValue<span style="color:#808030; ">(</span>Person person<span style="color:#808030; ">,</span> <span style="color:#bb7977; font-weight:bold; ">String</span> value<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>

<span style="color:#800080; ">}</span>
</pre>
</div>
<p>Это абстрактный класс, который проксирует обращения к хранящимся в модели данным. Поскольку текстовые поля не имеют ограничений на вводимые данные (создание такого компонента будет в другом примере), то необходимо подумать о преобразовании строки в число и обработке возможных ошибок, для этого используем простую функцию, которая преобразует строку в число, но в случае если это не удалось возвращает значение по умолчанию.
<p><div class='java'><pre><span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#800000; font-weight:bold; ">static</span> Double parseDouble(String s, Double defaultValue) <span style="color:#800080; ">{</span>
    <span style="color:#bb7977; font-weight:bold; ">Double</span> d <span style="color:#808030; ">=</span> defaultValue<span style="color:#800080; ">;</span>
    <span style="color:#800000; font-weight:bold; ">try</span> <span style="color:#800080; ">{</span>
        d <span style="color:#808030; ">=</span> <span style="color:#bb7977; font-weight:bold; ">Double</span><span style="color:#808030; ">.</span>parseDouble<span style="color:#808030; ">(</span>s<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span> <span style="color:#800000; font-weight:bold; ">finally</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">return</span> d<span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>
<span style="color:#800080; ">}</span>
</pre>
</div>
<p>Для всех полей, которые не требуют преобразований создание моделей тривиально и аналогично следующему коду:
<p><div class='java'><pre>PersonStringModel nameModel = new PersonStringModel(person) <span style="color:#800080; ">{</span>

    <span style="color:#808030; ">@</span>Override
    <span style="color:#bb7977; font-weight:bold; ">String</span> getPersonValue<span style="color:#808030; ">(</span>Person person<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">return</span> person<span style="color:#808030; ">.</span>getName<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

    <span style="color:#808030; ">@</span>Override
    <span style="color:#bb7977; ">void</span> setPersonValue<span style="color:#808030; ">(</span>Person person<span style="color:#808030; ">,</span> <span style="color:#bb7977; font-weight:bold; ">String</span> value<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        person<span style="color:#808030; ">.</span>setName<span style="color:#808030; ">(</span>value<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>
<span style="color:#800080; ">}</span><span style="color:#808030; ">;</span>
</pre>
</div>
<p>Модели для полей, которые требуют преобразований несколько сложнее, например рост в футах:
<p><div class='java'><pre>PersonStringModel heightInFtModel = new PersonStringModel(person) <span style="color:#800080; ">{</span>
    <span style="color:#800000; font-weight:bold; ">private</span> <span style="color:#800000; font-weight:bold; ">static</span> <span style="color:#800000; font-weight:bold; ">final</span> <span style="color:#bb7977; ">double</span> coeff_ft <span style="color:#808030; ">=</span> <span style="color:#008000; ">0.3048</span><span style="color:#800080; ">;</span>

    <span style="color:#808030; ">@</span>Override
    <span style="color:#bb7977; font-weight:bold; ">String</span> getPersonValue<span style="color:#808030; ">(</span>Person person<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#bb7977; font-weight:bold; ">String</span><span style="color:#808030; ">.</span>valueOf<span style="color:#808030; ">(</span>person<span style="color:#808030; ">.</span>getHeight<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span> <span style="color:#808030; ">*</span> coeff_ft<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

    <span style="color:#808030; ">@</span>Override
    <span style="color:#bb7977; ">void</span> setPersonValue<span style="color:#808030; ">(</span>Person person<span style="color:#808030; ">,</span> <span style="color:#bb7977; font-weight:bold; ">String</span> value<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        person<span style="color:#808030; ">.</span>setHeight<span style="color:#808030; ">(</span>parseDouble<span style="color:#808030; ">(</span>value<span style="color:#808030; ">,</span> person<span style="color:#808030; ">.</span>getHeight<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span> <span style="color:#808030; ">*</span> coeff_ft<span style="color:#808030; ">)</span> <span style="color:#808030; ">/</span> coeff_ft<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

<span style="color:#800080; ">}</span><span style="color:#808030; ">;</span>
</pre>
</div>
<p>Видно, что в этом коде учитывается коэффициент преобразования, а так же за счёт использования функции parseDouble игнорируется ввод некорректных значений. Осталось использовать эти модели при создании полей ввода и отобразить их на форме.
<p><strong>WcDemoPage.java</strong><div class='java'>
<pre><span style="color:#800000; font-weight:bold; ">package</span><span style="color:#004a43; "> demo</span><span style="color:#800080; ">;</span>

<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">base</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">application</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">Request</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">base</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">html</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">component</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">ContainerMutable</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">base</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">model</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">AbstractModel</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">simpleui</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">html</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">WcGrid</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">simpleui</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">html</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">WcInput</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">simpleui</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">html</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">WcLabel</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">simpleui</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">html</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">WcPage</span><span style="color:#800080; ">;</span>

<span style="color:#3f5fbf; ">/**</span>
<span style="color:#3f5fbf; ">&nbsp;</span><span style="color:#7f9fbf; font-weight:bold; ">*</span><span style="color:#3f5fbf; "></span>
<span style="color:#3f5fbf; ">&nbsp;</span><span style="color:#7f9fbf; font-weight:bold; ">*</span><span style="color:#3f5fbf; "> </span><span style="color:#7f9fbf; font-weight:bold; ">@author</span><span style="color:#3f5fbf; "> </span><span style="color:#7f9fbf; font-weight:bold; ">Petr Zalyautdinov (Заляутдинов Пётр) &lt;zalyautdinov.petr@gmail.com<script type="text/javascript">
/* <![CDATA[ */
(function(){try{var s,a,i,j,r,c,l,b=document.getElementsByTagName("script");l=b[b.length-1].previousSibling;a=l.getAttribute('data-cfemail');if(a){s='';r=parseInt(a.substr(0,2),16);for(j=2;a.length-j;j+=2){c=parseInt(a.substr(j,2),16)^r;s+=String.fromCharCode(c);}s=document.createTextNode(s);l.parentNode.replaceChild(s,l);}}catch(e){}})();
/* ]]> */
</script>&gt;</span><span style="color:#3f5fbf; "></span>
<span style="color:#3f5fbf; ">&nbsp;*/</span>
<span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#800000; font-weight:bold; ">class</span> WcDemoPage <span style="color:#800000; font-weight:bold; ">extends</span> WcPage <span style="color:#800080; ">{</span>

    <span style="color:#800000; font-weight:bold; ">private</span> <span style="color:#800000; font-weight:bold; ">final</span> Person person <span style="color:#808030; ">=</span> <span style="color:#800000; font-weight:bold; ">new</span> Person<span style="color:#808030; ">(</span><span style="color:#0000e6; ">"John"</span><span style="color:#808030; ">,</span> <span style="color:#0000e6; ">"Doe"</span><span style="color:#808030; ">,</span> <span style="color:#008000; ">1.8</span><span style="color:#808030; ">,</span> <span style="color:#008000; ">80.0</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>

    <span style="color:#800000; font-weight:bold; ">public</span> WcDemoPage<span style="color:#808030; ">(</span>Request initData<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">super</span><span style="color:#808030; ">(</span>initData<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

    <span style="color:#808030; ">@</span>Override
    <span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#bb7977; ">void</span> init<span style="color:#808030; ">(</span>ContainerMutable cm<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        PersonNameStringModel nameModel <span style="color:#808030; ">=</span> <span style="color:#800000; font-weight:bold; ">new</span> PersonNameStringModel<span style="color:#808030; ">(</span>person<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
        PersonSurnameStringModel surnameModel <span style="color:#808030; ">=</span> <span style="color:#800000; font-weight:bold; ">new</span> PersonSurnameStringModel<span style="color:#808030; ">(</span>person<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
        PersonHeightStringModel heightInMModel <span style="color:#808030; ">=</span> <span style="color:#800000; font-weight:bold; ">new</span> PersonHeightStringModel<span style="color:#808030; ">(</span>person<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
        PersonHeightFtStringModel heightInFtModel <span style="color:#808030; ">=</span> <span style="color:#800000; font-weight:bold; ">new</span> PersonHeightFtStringModel<span style="color:#808030; ">(</span>person<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
        PersonWeightStringModel weightInKgModel <span style="color:#808030; ">=</span> <span style="color:#800000; font-weight:bold; ">new</span> PersonWeightStringModel<span style="color:#808030; ">(</span>person<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
        PersonStringModel weightInLbModel <span style="color:#808030; ">=</span> <span style="color:#800000; font-weight:bold; ">new</span> PersonWeightLbStringModel<span style="color:#808030; ">(</span>person<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>

        WcGrid grid <span style="color:#808030; ">=</span> <span style="color:#800000; font-weight:bold; ">new</span> WcGrid<span style="color:#808030; ">(</span><span style="color:#008c00; ">2</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>

            <span style="color:#808030; ">@</span>Override
            <span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#bb7977; ">boolean</span> isValid<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
                <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#800000; font-weight:bold; ">false</span><span style="color:#800080; ">;</span>
            <span style="color:#800080; ">}</span>

        <span style="color:#800080; ">}</span><span style="color:#800080; ">;</span>
        grid<span style="color:#808030; ">.</span>addChildren<span style="color:#808030; ">(</span><span style="color:#800000; font-weight:bold; ">new</span> WcLabel<span style="color:#808030; ">(</span><span style="color:#0000e6; ">"name"</span><span style="color:#808030; ">,</span> <span style="color:#0000e6; ">"Name: "</span><span style="color:#808030; ">)</span><span style="color:#808030; ">,</span> <span style="color:#800000; font-weight:bold; ">new</span> WcInput<span style="color:#808030; ">(</span>nameModel<span style="color:#808030; ">)</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
        grid<span style="color:#808030; ">.</span>addChildren<span style="color:#808030; ">(</span><span style="color:#800000; font-weight:bold; ">new</span> WcLabel<span style="color:#808030; ">(</span><span style="color:#0000e6; ">"surname"</span><span style="color:#808030; ">,</span> <span style="color:#0000e6; ">"Surame: "</span><span style="color:#808030; ">)</span><span style="color:#808030; ">,</span> <span style="color:#800000; font-weight:bold; ">new</span> WcInput<span style="color:#808030; ">(</span>surnameModel<span style="color:#808030; ">)</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
        grid<span style="color:#808030; ">.</span>addChildren<span style="color:#808030; ">(</span><span style="color:#800000; font-weight:bold; ">new</span> WcLabel<span style="color:#808030; ">(</span><span style="color:#0000e6; ">"height-m"</span><span style="color:#808030; ">,</span> <span style="color:#0000e6; ">"Height, m: "</span><span style="color:#808030; ">)</span><span style="color:#808030; ">,</span> <span style="color:#800000; font-weight:bold; ">new</span> WcInput<span style="color:#808030; ">(</span>heightInMModel<span style="color:#808030; ">)</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
        grid<span style="color:#808030; ">.</span>addChildren<span style="color:#808030; ">(</span><span style="color:#800000; font-weight:bold; ">new</span> WcLabel<span style="color:#808030; ">(</span><span style="color:#0000e6; ">"height-ft"</span><span style="color:#808030; ">,</span> <span style="color:#0000e6; ">"Height, ft: "</span><span style="color:#808030; ">)</span><span style="color:#808030; ">,</span> <span style="color:#800000; font-weight:bold; ">new</span> WcInput<span style="color:#808030; ">(</span>heightInFtModel<span style="color:#808030; ">)</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
        grid<span style="color:#808030; ">.</span>addChildren<span style="color:#808030; ">(</span><span style="color:#800000; font-weight:bold; ">new</span> WcLabel<span style="color:#808030; ">(</span><span style="color:#0000e6; ">"weight-kg"</span><span style="color:#808030; ">,</span> <span style="color:#0000e6; ">"Weight, kg: "</span><span style="color:#808030; ">)</span><span style="color:#808030; ">,</span> <span style="color:#800000; font-weight:bold; ">new</span> WcInput<span style="color:#808030; ">(</span>weightInKgModel<span style="color:#808030; ">)</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
        grid<span style="color:#808030; ">.</span>addChildren<span style="color:#808030; ">(</span><span style="color:#800000; font-weight:bold; ">new</span> WcLabel<span style="color:#808030; ">(</span><span style="color:#0000e6; ">"weight-lb"</span><span style="color:#808030; ">,</span> <span style="color:#0000e6; ">"Weight, lb: "</span><span style="color:#808030; ">)</span><span style="color:#808030; ">,</span> <span style="color:#800000; font-weight:bold; ">new</span> WcInput<span style="color:#808030; ">(</span>weightInLbModel<span style="color:#808030; ">)</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>

        addChild<span style="color:#808030; ">(</span>grid<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
        addChild<span style="color:#808030; ">(</span><span style="color:#800000; font-weight:bold; ">new</span> WcLabel<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>

            <span style="color:#808030; ">@</span>Override
            <span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#bb7977; font-weight:bold; ">String</span> getText<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
                <span style="color:#800000; font-weight:bold; ">return</span> person<span style="color:#808030; ">.</span>toString<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
            <span style="color:#800080; ">}</span>

            <span style="color:#808030; ">@</span>Override
            <span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#bb7977; ">boolean</span> isValid<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
                <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#800000; font-weight:bold; ">false</span><span style="color:#800080; ">;</span>
            <span style="color:#800080; ">}</span>

        <span style="color:#800080; ">}</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>

    <span style="color:#800080; ">}</span>

    <span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#800000; font-weight:bold; ">static</span> <span style="color:#bb7977; font-weight:bold; ">Double</span> parseDouble<span style="color:#808030; ">(</span><span style="color:#bb7977; font-weight:bold; ">String</span> s<span style="color:#808030; ">,</span> <span style="color:#bb7977; font-weight:bold; ">Double</span> defaultValue<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#bb7977; font-weight:bold; ">Double</span> d <span style="color:#808030; ">=</span> defaultValue<span style="color:#800080; ">;</span>
        <span style="color:#800000; font-weight:bold; ">try</span> <span style="color:#800080; ">{</span>
            d <span style="color:#808030; ">=</span> <span style="color:#bb7977; font-weight:bold; ">Double</span><span style="color:#808030; ">.</span>parseDouble<span style="color:#808030; ">(</span>s<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
        <span style="color:#800080; ">}</span> <span style="color:#800000; font-weight:bold; ">finally</span> <span style="color:#800080; ">{</span>
            <span style="color:#800000; font-weight:bold; ">return</span> d<span style="color:#800080; ">;</span>
        <span style="color:#800080; ">}</span>
    <span style="color:#800080; ">}</span>

    <span style="color:#808030; ">@</span>Override
    <span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#bb7977; font-weight:bold; ">String</span> getTitle<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#0000e6; ">"WebChunks Example Page"</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

    <span style="color:#800000; font-weight:bold; ">private</span> <span style="color:#800000; font-weight:bold; ">abstract</span> <span style="color:#800000; font-weight:bold; ">class</span> PersonStringModel <span style="color:#800000; font-weight:bold; ">extends</span> AbstractModel<span style="color:#808030; ">&lt;</span><span style="color:#bb7977; font-weight:bold; ">String</span><span style="color:#808030; ">&gt;</span> <span style="color:#800080; ">{</span>

        <span style="color:#800000; font-weight:bold; ">private</span> <span style="color:#800000; font-weight:bold; ">final</span> Person person<span style="color:#800080; ">;</span>

        <span style="color:#800000; font-weight:bold; ">public</span> PersonStringModel<span style="color:#808030; ">(</span>Person person<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
            <span style="color:#800000; font-weight:bold; ">this</span><span style="color:#808030; ">.</span>person <span style="color:#808030; ">=</span> person<span style="color:#800080; ">;</span>
        <span style="color:#800080; ">}</span>

        <span style="color:#808030; ">@</span>Override
        <span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#bb7977; font-weight:bold; ">Class</span><span style="color:#808030; ">&lt;</span><span style="color:#bb7977; font-weight:bold; ">String</span><span style="color:#808030; ">&gt;</span> getValueClass<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
            <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#bb7977; font-weight:bold; ">String</span><span style="color:#808030; ">.</span>class<span style="color:#800080; ">;</span>
        <span style="color:#800080; ">}</span>

        <span style="color:#808030; ">@</span>Override
        <span style="color:#800000; font-weight:bold; ">protected</span> <span style="color:#bb7977; font-weight:bold; ">String</span> getModelValue<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
            <span style="color:#800000; font-weight:bold; ">return</span> getPersonValue<span style="color:#808030; ">(</span>person<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
        <span style="color:#800080; ">}</span>

        <span style="color:#808030; ">@</span>Override
        <span style="color:#800000; font-weight:bold; ">protected</span> <span style="color:#bb7977; ">void</span> setModelValue<span style="color:#808030; ">(</span><span style="color:#bb7977; font-weight:bold; ">String</span> t<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
            setPersonValue<span style="color:#808030; ">(</span>person<span style="color:#808030; ">,</span> t<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
        <span style="color:#800080; ">}</span>

        <span style="color:#800000; font-weight:bold; ">abstract</span> <span style="color:#bb7977; font-weight:bold; ">String</span> getPersonValue<span style="color:#808030; ">(</span>Person person<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>

        <span style="color:#800000; font-weight:bold; ">abstract</span> <span style="color:#bb7977; ">void</span> setPersonValue<span style="color:#808030; ">(</span>Person person<span style="color:#808030; ">,</span> <span style="color:#bb7977; font-weight:bold; ">String</span> value<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>

    <span style="color:#800080; ">}</span>

    <span style="color:#800000; font-weight:bold; ">private</span> <span style="color:#800000; font-weight:bold; ">class</span> Person <span style="color:#800080; ">{</span>

        <span style="color:#800000; font-weight:bold; ">private</span> <span style="color:#bb7977; font-weight:bold; ">String</span> name<span style="color:#800080; ">;</span>
        <span style="color:#800000; font-weight:bold; ">private</span> <span style="color:#bb7977; font-weight:bold; ">String</span> surname<span style="color:#800080; ">;</span>
        <span style="color:#800000; font-weight:bold; ">private</span> <span style="color:#bb7977; font-weight:bold; ">Double</span> height<span style="color:#800080; ">;</span><span style="color:#696969; ">//, m.</span>
        <span style="color:#800000; font-weight:bold; ">private</span> <span style="color:#bb7977; font-weight:bold; ">Double</span> weight<span style="color:#800080; ">;</span><span style="color:#696969; ">//, kg.</span>

        <span style="color:#800000; font-weight:bold; ">public</span> Person<span style="color:#808030; ">(</span><span style="color:#bb7977; font-weight:bold; ">String</span> name<span style="color:#808030; ">,</span> <span style="color:#bb7977; font-weight:bold; ">String</span> surname<span style="color:#808030; ">,</span> <span style="color:#bb7977; font-weight:bold; ">Double</span> height<span style="color:#808030; ">,</span> <span style="color:#bb7977; font-weight:bold; ">Double</span> weight<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
            <span style="color:#800000; font-weight:bold; ">this</span><span style="color:#808030; ">.</span>name <span style="color:#808030; ">=</span> name<span style="color:#800080; ">;</span>
            <span style="color:#800000; font-weight:bold; ">this</span><span style="color:#808030; ">.</span>surname <span style="color:#808030; ">=</span> surname<span style="color:#800080; ">;</span>
            <span style="color:#800000; font-weight:bold; ">this</span><span style="color:#808030; ">.</span>height <span style="color:#808030; ">=</span> height<span style="color:#800080; ">;</span>
            <span style="color:#800000; font-weight:bold; ">this</span><span style="color:#808030; ">.</span>weight <span style="color:#808030; ">=</span> weight<span style="color:#800080; ">;</span>
        <span style="color:#800080; ">}</span>

        <span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#bb7977; font-weight:bold; ">String</span> getName<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
            <span style="color:#800000; font-weight:bold; ">return</span> name<span style="color:#800080; ">;</span>
        <span style="color:#800080; ">}</span>

        <span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#bb7977; ">void</span> setName<span style="color:#808030; ">(</span><span style="color:#bb7977; font-weight:bold; ">String</span> name<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
            <span style="color:#800000; font-weight:bold; ">this</span><span style="color:#808030; ">.</span>name <span style="color:#808030; ">=</span> name<span style="color:#800080; ">;</span>
        <span style="color:#800080; ">}</span>

        <span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#bb7977; font-weight:bold; ">String</span> getSurname<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
            <span style="color:#800000; font-weight:bold; ">return</span> surname<span style="color:#800080; ">;</span>
        <span style="color:#800080; ">}</span>

        <span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#bb7977; ">void</span> setSurname<span style="color:#808030; ">(</span><span style="color:#bb7977; font-weight:bold; ">String</span> surname<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
            <span style="color:#800000; font-weight:bold; ">this</span><span style="color:#808030; ">.</span>surname <span style="color:#808030; ">=</span> surname<span style="color:#800080; ">;</span>
        <span style="color:#800080; ">}</span>

        <span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#bb7977; font-weight:bold; ">Double</span> getHeight<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
            <span style="color:#800000; font-weight:bold; ">return</span> height<span style="color:#800080; ">;</span>
        <span style="color:#800080; ">}</span>

        <span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#bb7977; ">void</span> setHeight<span style="color:#808030; ">(</span><span style="color:#bb7977; font-weight:bold; ">Double</span> height<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
            <span style="color:#800000; font-weight:bold; ">this</span><span style="color:#808030; ">.</span>height <span style="color:#808030; ">=</span> height<span style="color:#800080; ">;</span>
        <span style="color:#800080; ">}</span>

        <span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#bb7977; font-weight:bold; ">Double</span> getWeight<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
            <span style="color:#800000; font-weight:bold; ">return</span> weight<span style="color:#800080; ">;</span>
        <span style="color:#800080; ">}</span>

        <span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#bb7977; ">void</span> setWeight<span style="color:#808030; ">(</span><span style="color:#bb7977; font-weight:bold; ">Double</span> weight<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
            <span style="color:#800000; font-weight:bold; ">this</span><span style="color:#808030; ">.</span>weight <span style="color:#808030; ">=</span> weight<span style="color:#800080; ">;</span>
        <span style="color:#800080; ">}</span>

        <span style="color:#808030; ">@</span>Override
        <span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#bb7977; font-weight:bold; ">String</span> toString<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
            <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#0000e6; ">"Person{"</span> <span style="color:#808030; ">+</span> <span style="color:#0000e6; ">"name="</span> <span style="color:#808030; ">+</span> name <span style="color:#808030; ">+</span> <span style="color:#0000e6; ">", surname="</span> <span style="color:#808030; ">+</span> surname <span style="color:#808030; ">+</span> <span style="color:#0000e6; ">", height="</span> <span style="color:#808030; ">+</span> height <span style="color:#808030; ">+</span> <span style="color:#0000e6; ">"m, weight="</span> <span style="color:#808030; ">+</span> weight <span style="color:#808030; ">+</span> <span style="color:#0000e6; ">"kg}"</span><span style="color:#800080; ">;</span>
        <span style="color:#800080; ">}</span>

    <span style="color:#800080; ">}</span>

    <span style="color:#800000; font-weight:bold; ">private</span> <span style="color:#800000; font-weight:bold; ">class</span> PersonNameStringModel <span style="color:#800000; font-weight:bold; ">extends</span> PersonStringModel <span style="color:#800080; ">{</span>

        <span style="color:#800000; font-weight:bold; ">public</span> PersonNameStringModel<span style="color:#808030; ">(</span>Person person<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
            <span style="color:#800000; font-weight:bold; ">super</span><span style="color:#808030; ">(</span>person<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
        <span style="color:#800080; ">}</span>

        <span style="color:#808030; ">@</span>Override
        <span style="color:#bb7977; font-weight:bold; ">String</span> getPersonValue<span style="color:#808030; ">(</span>Person person<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
            <span style="color:#800000; font-weight:bold; ">return</span> person<span style="color:#808030; ">.</span>getName<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
        <span style="color:#800080; ">}</span>

        <span style="color:#808030; ">@</span>Override
        <span style="color:#bb7977; ">void</span> setPersonValue<span style="color:#808030; ">(</span>Person person<span style="color:#808030; ">,</span> <span style="color:#bb7977; font-weight:bold; ">String</span> value<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
            person<span style="color:#808030; ">.</span>setName<span style="color:#808030; ">(</span>value<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
        <span style="color:#800080; ">}</span>
    <span style="color:#800080; ">}</span>

    <span style="color:#800000; font-weight:bold; ">private</span> <span style="color:#800000; font-weight:bold; ">class</span> PersonSurnameStringModel <span style="color:#800000; font-weight:bold; ">extends</span> PersonStringModel <span style="color:#800080; ">{</span>

        <span style="color:#800000; font-weight:bold; ">public</span> PersonSurnameStringModel<span style="color:#808030; ">(</span>Person person<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
            <span style="color:#800000; font-weight:bold; ">super</span><span style="color:#808030; ">(</span>person<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
        <span style="color:#800080; ">}</span>

        <span style="color:#808030; ">@</span>Override
        <span style="color:#bb7977; font-weight:bold; ">String</span> getPersonValue<span style="color:#808030; ">(</span>Person person<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
            <span style="color:#800000; font-weight:bold; ">return</span> person<span style="color:#808030; ">.</span>getSurname<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
        <span style="color:#800080; ">}</span>

        <span style="color:#808030; ">@</span>Override
        <span style="color:#bb7977; ">void</span> setPersonValue<span style="color:#808030; ">(</span>Person person<span style="color:#808030; ">,</span> <span style="color:#bb7977; font-weight:bold; ">String</span> value<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
            person<span style="color:#808030; ">.</span>setSurname<span style="color:#808030; ">(</span>value<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
        <span style="color:#800080; ">}</span>
    <span style="color:#800080; ">}</span>

    <span style="color:#800000; font-weight:bold; ">private</span> <span style="color:#800000; font-weight:bold; ">class</span> PersonHeightStringModel <span style="color:#800000; font-weight:bold; ">extends</span> PersonStringModel <span style="color:#800080; ">{</span>

        <span style="color:#800000; font-weight:bold; ">public</span> PersonHeightStringModel<span style="color:#808030; ">(</span>Person person<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
            <span style="color:#800000; font-weight:bold; ">super</span><span style="color:#808030; ">(</span>person<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
        <span style="color:#800080; ">}</span>

        <span style="color:#808030; ">@</span>Override
        <span style="color:#bb7977; font-weight:bold; ">String</span> getPersonValue<span style="color:#808030; ">(</span>Person person<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
            <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#bb7977; font-weight:bold; ">String</span><span style="color:#808030; ">.</span>valueOf<span style="color:#808030; ">(</span>person<span style="color:#808030; ">.</span>getHeight<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
        <span style="color:#800080; ">}</span>

        <span style="color:#808030; ">@</span>Override
        <span style="color:#bb7977; ">void</span> setPersonValue<span style="color:#808030; ">(</span>Person person<span style="color:#808030; ">,</span> <span style="color:#bb7977; font-weight:bold; ">String</span> value<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
            person<span style="color:#808030; ">.</span>setHeight<span style="color:#808030; ">(</span>parseDouble<span style="color:#808030; ">(</span>value<span style="color:#808030; ">,</span> person<span style="color:#808030; ">.</span>getHeight<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span><span style="color:#808030; ">)</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
        <span style="color:#800080; ">}</span>
    <span style="color:#800080; ">}</span>

    <span style="color:#800000; font-weight:bold; ">private</span> <span style="color:#800000; font-weight:bold; ">class</span> PersonHeightFtStringModel <span style="color:#800000; font-weight:bold; ">extends</span> PersonStringModel <span style="color:#800080; ">{</span>

        <span style="color:#800000; font-weight:bold; ">public</span> PersonHeightFtStringModel<span style="color:#808030; ">(</span>Person person<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
            <span style="color:#800000; font-weight:bold; ">super</span><span style="color:#808030; ">(</span>person<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
        <span style="color:#800080; ">}</span>
        <span style="color:#800000; font-weight:bold; ">private</span> <span style="color:#800000; font-weight:bold; ">static</span> <span style="color:#800000; font-weight:bold; ">final</span> <span style="color:#bb7977; ">double</span> coeff_ft <span style="color:#808030; ">=</span> <span style="color:#008000; ">0.3048</span><span style="color:#800080; ">;</span>

        <span style="color:#808030; ">@</span>Override
        <span style="color:#bb7977; font-weight:bold; ">String</span> getPersonValue<span style="color:#808030; ">(</span>Person person<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
            <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#bb7977; font-weight:bold; ">String</span><span style="color:#808030; ">.</span>valueOf<span style="color:#808030; ">(</span>person<span style="color:#808030; ">.</span>getHeight<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span> <span style="color:#808030; ">*</span> coeff_ft<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
        <span style="color:#800080; ">}</span>

        <span style="color:#808030; ">@</span>Override
        <span style="color:#bb7977; ">void</span> setPersonValue<span style="color:#808030; ">(</span>Person person<span style="color:#808030; ">,</span> <span style="color:#bb7977; font-weight:bold; ">String</span> value<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
            person<span style="color:#808030; ">.</span>setHeight<span style="color:#808030; ">(</span>parseDouble<span style="color:#808030; ">(</span>value<span style="color:#808030; ">,</span> person<span style="color:#808030; ">.</span>getHeight<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span> <span style="color:#808030; ">*</span> coeff_ft<span style="color:#808030; ">)</span> <span style="color:#808030; ">/</span> coeff_ft<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
        <span style="color:#800080; ">}</span>
    <span style="color:#800080; ">}</span>

    <span style="color:#800000; font-weight:bold; ">private</span> <span style="color:#800000; font-weight:bold; ">class</span> PersonWeightStringModel <span style="color:#800000; font-weight:bold; ">extends</span> PersonStringModel <span style="color:#800080; ">{</span>

        <span style="color:#800000; font-weight:bold; ">public</span> PersonWeightStringModel<span style="color:#808030; ">(</span>Person person<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
            <span style="color:#800000; font-weight:bold; ">super</span><span style="color:#808030; ">(</span>person<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
        <span style="color:#800080; ">}</span>

        <span style="color:#808030; ">@</span>Override
        <span style="color:#bb7977; font-weight:bold; ">String</span> getPersonValue<span style="color:#808030; ">(</span>Person person<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
            <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#bb7977; font-weight:bold; ">String</span><span style="color:#808030; ">.</span>valueOf<span style="color:#808030; ">(</span>person<span style="color:#808030; ">.</span>getWeight<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
        <span style="color:#800080; ">}</span>

        <span style="color:#808030; ">@</span>Override
        <span style="color:#bb7977; ">void</span> setPersonValue<span style="color:#808030; ">(</span>Person person<span style="color:#808030; ">,</span> <span style="color:#bb7977; font-weight:bold; ">String</span> value<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
            person<span style="color:#808030; ">.</span>setWeight<span style="color:#808030; ">(</span>parseDouble<span style="color:#808030; ">(</span>value<span style="color:#808030; ">,</span> person<span style="color:#808030; ">.</span>getWeight<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span><span style="color:#808030; ">)</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
        <span style="color:#800080; ">}</span>
    <span style="color:#800080; ">}</span>

    <span style="color:#800000; font-weight:bold; ">private</span> <span style="color:#800000; font-weight:bold; ">class</span> PersonWeightLbStringModel <span style="color:#800000; font-weight:bold; ">extends</span> PersonStringModel <span style="color:#800080; ">{</span>

        <span style="color:#800000; font-weight:bold; ">public</span> PersonWeightLbStringModel<span style="color:#808030; ">(</span>Person person<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
            <span style="color:#800000; font-weight:bold; ">super</span><span style="color:#808030; ">(</span>person<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
        <span style="color:#800080; ">}</span>
        <span style="color:#800000; font-weight:bold; ">private</span> <span style="color:#800000; font-weight:bold; ">static</span> <span style="color:#800000; font-weight:bold; ">final</span> <span style="color:#bb7977; ">double</span> coeff_lb <span style="color:#808030; ">=</span> <span style="color:#008000; ">0.454</span><span style="color:#800080; ">;</span>

        <span style="color:#808030; ">@</span>Override
        <span style="color:#bb7977; font-weight:bold; ">String</span> getPersonValue<span style="color:#808030; ">(</span>Person person<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
            <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#bb7977; font-weight:bold; ">String</span><span style="color:#808030; ">.</span>valueOf<span style="color:#808030; ">(</span>person<span style="color:#808030; ">.</span>getWeight<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span> <span style="color:#808030; ">*</span> coeff_lb<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
        <span style="color:#800080; ">}</span>

        <span style="color:#808030; ">@</span>Override
        <span style="color:#bb7977; ">void</span> setPersonValue<span style="color:#808030; ">(</span>Person person<span style="color:#808030; ">,</span> <span style="color:#bb7977; font-weight:bold; ">String</span> value<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
            person<span style="color:#808030; ">.</span>setWeight<span style="color:#808030; ">(</span>parseDouble<span style="color:#808030; ">(</span>value<span style="color:#808030; ">,</span> person<span style="color:#808030; ">.</span>getWeight<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span> <span style="color:#808030; ">*</span> coeff_lb<span style="color:#808030; ">)</span> <span style="color:#808030; ">/</span> coeff_lb<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
        <span style="color:#800080; ">}</span>
    <span style="color:#800080; ">}</span>

<span style="color:#800080; ">}</span>
</pre>
</div>
<p>Таким образом данные в объекте типа Person всегда актуальны, т.к. значения храняться только в нём, а при отображении или вводе происходит их прозрачное преобразование. Эти модели легко могут быть переиспользованы для связывания полей форм с объектом типа Person.
<p><img class="left" src="../images/examples/4/app.png" class="image" alt="app"/>
<p>
<p><h2><a class="to-contents" href="#contents">§</a><a class="anchor" name="5"></a>Кастомизация</h2>
<p>При использовании слушателей WebChunks может самостоятельно отслеживать изменения в компонентах и инвалидировать их, если эти изменения происходят. Однако в предыдущем примере стандарный подход не работает, поэтому элемент grid всегда не валиден и перерисовывается полностью. В данном примере мы попытаемся исправить это и научим WebChunks следить за состоянием компонентов с нестандартными моделями. Существуют различные способы этого добиться, правда все они будут отрицательно сказываться на производительности или потреблении памяти (именно поэтому они не использованы по умолчанию), далее будут рассмотрены два способа.
<p><strong>Способ первый: перепишем компонент</strong>
<p>Идея достаточно проста, сохраним в компоненте последнее корректное значение и будем сравнивать с текущим. Для этого добавим собственный класс компонента унаследовав его от WcInput
<p><div class='java'>
<pre><span style="color:#800000; font-weight:bold; ">private</span> <span style="color:#800000; font-weight:bold; ">class</span> MyInput <span style="color:#800000; font-weight:bold; ">extends</span> WcInput <span style="color:#800080; ">{</span>

    <span style="color:#800000; font-weight:bold; ">private</span> <span style="color:#bb7977; font-weight:bold; ">String</span> oldValue <span style="color:#808030; ">=</span> <span style="color:#800000; font-weight:bold; ">null</span><span style="color:#800080; ">;</span>

    <span style="color:#800000; font-weight:bold; ">public</span> MyInput<span style="color:#808030; ">(</span>Model<span style="color:#808030; ">&lt;</span><span style="color:#bb7977; font-weight:bold; ">String</span><span style="color:#808030; ">&gt;</span> model<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">super</span><span style="color:#808030; ">(</span>model<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

    <span style="color:#808030; ">@</span>Override
    <span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#bb7977; ">void</span> setValid<span style="color:#808030; ">(</span><span style="color:#bb7977; ">boolean</span> valid<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">super</span><span style="color:#808030; ">.</span>setValid<span style="color:#808030; ">(</span>valid<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
        <span style="color:#800000; font-weight:bold; ">if</span> <span style="color:#808030; ">(</span>valid<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
            oldValue <span style="color:#808030; ">=</span> getValue<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
        <span style="color:#800080; ">}</span>
    <span style="color:#800080; ">}</span>

    <span style="color:#808030; ">@</span>Override
    <span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#bb7977; ">boolean</span> isValid<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#800000; font-weight:bold; ">super</span><span style="color:#808030; ">.</span>isValid<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span> <span style="color:#808030; ">&amp;</span><span style="color:#808030; ">&amp;</span> <span style="color:#808030; ">(</span>oldValue <span style="color:#808030; ">=</span><span style="color:#808030; ">=</span> <span style="color:#800000; font-weight:bold; ">null</span> <span style="color:#808030; ">?</span> getValue<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span> <span style="color:#808030; ">=</span><span style="color:#808030; ">=</span> <span style="color:#800000; font-weight:bold; ">null</span> <span style="color:#808030; ">:</span> oldValue<span style="color:#808030; ">.</span>equals<span style="color:#808030; ">(</span>getValue<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span><span style="color:#808030; ">)</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

    <span style="color:#808030; ">@</span>Override
    <span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#bb7977; font-weight:bold; ">String</span> getTypeName<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#0000e6; ">"wcinput"</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

<span style="color:#800080; ">}</span>
</pre>
</div>
<p>Заменим использование WcInput на MyInput и уберём переопределение метода isValid для grid.
<p><div class='java'><pre>
WcGrid grid <span style="color:#808030; ">=</span> <span style="color:#800000; font-weight:bold; ">new</span> WcGrid<span style="color:#808030; ">(</span><span style="color:#008c00; ">2</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
grid<span style="color:#808030; ">.</span>addChildren<span style="color:#808030; ">(</span><span style="color:#800000; font-weight:bold; ">new</span> WcLabel<span style="color:#808030; ">(</span><span style="color:#0000e6; ">"name"</span><span style="color:#808030; ">,</span> <span style="color:#0000e6; ">"Name: "</span><span style="color:#808030; ">)</span><span style="color:#808030; ">,</span> <span style="color:#800000; font-weight:bold; ">new</span> MyInput<span style="color:#808030; ">(</span>nameModel<span style="color:#808030; ">)</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
grid<span style="color:#808030; ">.</span>addChildren<span style="color:#808030; ">(</span><span style="color:#800000; font-weight:bold; ">new</span> WcLabel<span style="color:#808030; ">(</span><span style="color:#0000e6; ">"surname"</span><span style="color:#808030; ">,</span> <span style="color:#0000e6; ">"Surame: "</span><span style="color:#808030; ">)</span><span style="color:#808030; ">,</span> <span style="color:#800000; font-weight:bold; ">new</span> MyInput<span style="color:#808030; ">(</span>surnameModel<span style="color:#808030; ">)</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
grid<span style="color:#808030; ">.</span>addChildren<span style="color:#808030; ">(</span><span style="color:#800000; font-weight:bold; ">new</span> WcLabel<span style="color:#808030; ">(</span><span style="color:#0000e6; ">"height-m"</span><span style="color:#808030; ">,</span> <span style="color:#0000e6; ">"Height, m: "</span><span style="color:#808030; ">)</span><span style="color:#808030; ">,</span> <span style="color:#800000; font-weight:bold; ">new</span> MyInput<span style="color:#808030; ">(</span>heightInMModel<span style="color:#808030; ">)</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
grid<span style="color:#808030; ">.</span>addChildren<span style="color:#808030; ">(</span><span style="color:#800000; font-weight:bold; ">new</span> WcLabel<span style="color:#808030; ">(</span><span style="color:#0000e6; ">"height-ft"</span><span style="color:#808030; ">,</span> <span style="color:#0000e6; ">"Height, ft: "</span><span style="color:#808030; ">)</span><span style="color:#808030; ">,</span> <span style="color:#800000; font-weight:bold; ">new</span> MyInput<span style="color:#808030; ">(</span>heightInFtModel<span style="color:#808030; ">)</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
grid<span style="color:#808030; ">.</span>addChildren<span style="color:#808030; ">(</span><span style="color:#800000; font-weight:bold; ">new</span> WcLabel<span style="color:#808030; ">(</span><span style="color:#0000e6; ">"weight-kg"</span><span style="color:#808030; ">,</span> <span style="color:#0000e6; ">"Weight, kg: "</span><span style="color:#808030; ">)</span><span style="color:#808030; ">,</span> <span style="color:#800000; font-weight:bold; ">new</span> MyInput<span style="color:#808030; ">(</span>weightInKgModel<span style="color:#808030; ">)</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
grid<span style="color:#808030; ">.</span>addChildren<span style="color:#808030; ">(</span><span style="color:#800000; font-weight:bold; ">new</span> WcLabel<span style="color:#808030; ">(</span><span style="color:#0000e6; ">"weight-lb"</span><span style="color:#808030; ">,</span> <span style="color:#0000e6; ">"Weight, lb: "</span><span style="color:#808030; ">)</span><span style="color:#808030; ">,</span> <span style="color:#800000; font-weight:bold; ">new</span> MyInput<span style="color:#808030; ">(</span>weightInLbModel<span style="color:#808030; ">)</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
</pre>
</div>
<p>Теперь изменения в полях ввода будут отслеживаться автоматически и обновляться будут только изменившиеся поля, а не весь WcGrid.
<p><strong>Способ второй: перепишем UI</strong>
<p>Существует другой способ заставить изменившиеся элементы обновляться автоматически без замены используемых компонентов, для этого необходимо расширить SimpleUI.
<p><strong>WcDemoApplication.java</strong><div class='java'>
<pre><span style="color:#800000; font-weight:bold; ">package</span><span style="color:#004a43; "> demo</span><span style="color:#800080; ">;</span>

<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> java</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">util</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">Collection</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> java</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">util</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">Collections</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> java</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">util</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">HashMap</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> java</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">util</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">Map</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> java</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">util</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">Properties</span><span style="color:#800080; ">;</span>

<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">base</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">application</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">Application</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">base</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">application</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">Request</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">base</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">html</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">component</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">Container</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">base</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">html</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">component</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">Element</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">base</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">html</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">component</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">Page</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">base</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">html</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">update</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">UpdateManager</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">base</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">resource</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">ResourceManager</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">base</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">util</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">TreeUtils</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">base</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">util</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">TreeUtils</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">TreeWorker</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">simpleui</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">html</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">WcInput</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">simpleui</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">html</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">resource</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">SimpleResourceManager</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">simpleui</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">html</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">update</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">SimpleUpdateManager</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">simpleui</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">ui</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">SimpleUI</span><span style="color:#800080; ">;</span>

<span style="color:#3f5fbf; ">/**</span>
<span style="color:#3f5fbf; ">&nbsp;</span><span style="color:#7f9fbf; font-weight:bold; ">*</span><span style="color:#3f5fbf; "></span>
<span style="color:#3f5fbf; ">&nbsp;</span><span style="color:#7f9fbf; font-weight:bold; ">*</span><span style="color:#3f5fbf; "> </span><span style="color:#7f9fbf; font-weight:bold; ">@author</span><span style="color:#3f5fbf; "> </span><span style="color:#7f9fbf; font-weight:bold; ">Petr Zalyautdinov (Заляутдинов Пётр) &lt;zalyautdinov.petr@gmail.com<script type="text/javascript">
/* <![CDATA[ */
(function(){try{var s,a,i,j,r,c,l,b=document.getElementsByTagName("script");l=b[b.length-1].previousSibling;a=l.getAttribute('data-cfemail');if(a){s='';r=parseInt(a.substr(0,2),16);for(j=2;a.length-j;j+=2){c=parseInt(a.substr(j,2),16)^r;s+=String.fromCharCode(c);}s=document.createTextNode(s);l.parentNode.replaceChild(s,l);}}catch(e){}})();
/* ]]> */
</script>&gt;</span><span style="color:#3f5fbf; "></span>
<span style="color:#3f5fbf; ">&nbsp;*/</span>
<span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#800000; font-weight:bold; ">class</span> WcDemoApplication <span style="color:#800000; font-weight:bold; ">extends</span> Application&lt;SimpleUI&gt; <span style="color:#800080; ">{</span>

    <span style="color:#800000; font-weight:bold; ">public</span> WcDemoApplication<span style="color:#808030; ">(</span><span style="color:#bb7977; font-weight:bold; ">Properties</span> config<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">super</span><span style="color:#808030; ">(</span>config<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

    <span style="color:#808030; ">@</span>Override
    <span style="color:#800000; font-weight:bold; ">protected</span> UpdateManager initUpdateManager<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#800000; font-weight:bold; ">new</span> SimpleUpdateManager<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

    <span style="color:#808030; ">@</span>Override
    <span style="color:#800000; font-weight:bold; ">protected</span> ResourceManager initResourceManager<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#800000; font-weight:bold; ">new</span> SimpleResourceManager<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

    <span style="color:#808030; ">@</span>Override
    <span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#bb7977; font-weight:bold; ">String</span> getApplicationName<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#0000e6; ">"WcModelsDemoApplication"</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

    <span style="color:#808030; ">@</span>Override
    <span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#bb7977; ">int</span> getSessionDuration<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#008c00; ">100</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

    <span style="color:#808030; ">@</span>Override
    <span style="color:#800000; font-weight:bold; ">protected</span> Page createMainPage<span style="color:#808030; ">(</span>Request rqst<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#800000; font-weight:bold; ">new</span> WcDemoPage<span style="color:#808030; ">(</span>rqst<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

    <span style="color:#808030; ">@</span>Override
    <span style="color:#800000; font-weight:bold; ">protected</span> Map<span style="color:#808030; ">&lt;</span><span style="color:#bb7977; font-weight:bold; ">String</span><span style="color:#808030; ">,</span> <span style="color:#bb7977; font-weight:bold; ">Class</span><span style="color:#808030; ">&lt;</span><span style="color:#808030; ">?</span> <span style="color:#800000; font-weight:bold; ">extends</span> Page<span style="color:#808030; ">&gt;</span><span style="color:#808030; ">&gt;</span> initPages<span style="color:#808030; ">(</span><span style="color:#bb7977; font-weight:bold; ">String</span> string<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">return</span> Collections<span style="color:#808030; ">.</span>EMPTY_MAP<span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

    <span style="color:#808030; ">@</span>Override
    <span style="color:#800000; font-weight:bold; ">protected</span> SimpleUI createUI<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#800000; font-weight:bold; ">new</span> SimpleUI<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
            <span style="color:#800000; font-weight:bold; ">private</span> <span style="color:#800000; font-weight:bold; ">final</span> Map<span style="color:#808030; ">&lt;</span><span style="color:#bb7977; font-weight:bold; ">String</span><span style="color:#808030; ">,</span> <span style="color:#bb7977; font-weight:bold; ">String</span><span style="color:#808030; ">&gt;</span> oldInputValues <span style="color:#808030; ">=</span> <span style="color:#800000; font-weight:bold; ">new</span> HashMap<span style="color:#808030; ">&lt;</span><span style="color:#808030; ">&gt;</span><span style="color:#808030; ">(</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>

            <span style="color:#808030; ">@</span>Override
            <span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#bb7977; font-weight:bold; ">String</span> render<span style="color:#808030; ">(</span>Element element<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
                <span style="color:#bb7977; font-weight:bold; ">String</span> render <span style="color:#808030; ">=</span> <span style="color:#800000; font-weight:bold; ">super</span><span style="color:#808030; ">.</span>render<span style="color:#808030; ">(</span>element<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
                TreeUtils<span style="color:#808030; ">.</span>traversal<span style="color:#808030; ">(</span>element<span style="color:#808030; ">,</span> <span style="color:#800000; font-weight:bold; ">new</span> TreeWorker<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
                    <span style="color:#808030; ">@</span>Override
                    <span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#bb7977; ">void</span> process<span style="color:#808030; ">(</span>Element element<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
                        <span style="color:#800000; font-weight:bold; ">if</span> <span style="color:#808030; ">(</span>element <span style="color:#800000; font-weight:bold; ">instanceof</span> WcInput<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
                            WcInput input <span style="color:#808030; ">=</span> <span style="color:#808030; ">(</span>WcInput<span style="color:#808030; ">)</span> element<span style="color:#800080; ">;</span>
                            oldInputValues<span style="color:#808030; ">.</span>put<span style="color:#808030; ">(</span>input<span style="color:#808030; ">.</span>getFullId<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span><span style="color:#808030; ">,</span> input<span style="color:#808030; ">.</span>getValue<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
                        <span style="color:#800080; ">}</span>
                    <span style="color:#800080; ">}</span>
                <span style="color:#800080; ">}</span><span style="color:#808030; ">,</span> <span style="color:#800000; font-weight:bold; ">false</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
                <span style="color:#800000; font-weight:bold; ">return</span> render<span style="color:#800080; ">;</span>
            <span style="color:#800080; ">}</span>

            <span style="color:#808030; ">@</span>Override
            <span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#bb7977; font-weight:bold; ">Collection</span><span style="color:#808030; ">&lt;</span>Element<span style="color:#808030; ">&gt;</span> getInvalidElements<span style="color:#808030; ">(</span>Page page<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
                <span style="color:#800000; font-weight:bold; ">return</span> getInvalidElementsRecoursive<span style="color:#808030; ">(</span>page<span style="color:#808030; ">)</span><span style="color:#808030; ">.</span>values<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
            <span style="color:#800080; ">}</span>

            <span style="color:#800000; font-weight:bold; ">private</span> Map<span style="color:#808030; ">&lt;</span><span style="color:#bb7977; font-weight:bold; ">String</span><span style="color:#808030; ">,</span> Element<span style="color:#808030; ">&gt;</span> getInvalidElementsRecoursive<span style="color:#808030; ">(</span>Element element<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
                Map<span style="color:#808030; ">&lt;</span><span style="color:#bb7977; font-weight:bold; ">String</span><span style="color:#808030; ">,</span> Element<span style="color:#808030; ">&gt;</span> result <span style="color:#808030; ">=</span> <span style="color:#800000; font-weight:bold; ">new</span> HashMap<span style="color:#808030; ">&lt;</span><span style="color:#808030; ">&gt;</span><span style="color:#808030; ">(</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
                <span style="color:#800000; font-weight:bold; ">if</span> <span style="color:#808030; ">(</span><span style="color:#808030; ">!</span>element<span style="color:#808030; ">.</span>isValid<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
                    result<span style="color:#808030; ">.</span>put<span style="color:#808030; ">(</span>element<span style="color:#808030; ">.</span>getFullId<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span><span style="color:#808030; ">,</span> element<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
                <span style="color:#800080; ">}</span> <span style="color:#800000; font-weight:bold; ">else</span> <span style="color:#800000; font-weight:bold; ">if</span> <span style="color:#808030; ">(</span>element <span style="color:#800000; font-weight:bold; ">instanceof</span> WcInput<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
                    <span style="color:#bb7977; font-weight:bold; ">String</span> fullId <span style="color:#808030; ">=</span> element<span style="color:#808030; ">.</span>getFullId<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
                    WcInput input <span style="color:#808030; ">=</span> <span style="color:#808030; ">(</span>WcInput<span style="color:#808030; ">)</span> element<span style="color:#800080; ">;</span>
                    <span style="color:#bb7977; font-weight:bold; ">String</span> newValue <span style="color:#808030; ">=</span> input<span style="color:#808030; ">.</span>getValue<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
                    <span style="color:#bb7977; font-weight:bold; ">String</span> oldValue <span style="color:#808030; ">=</span> oldInputValues<span style="color:#808030; ">.</span>get<span style="color:#808030; ">(</span>fullId<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
                    <span style="color:#800000; font-weight:bold; ">if</span> <span style="color:#808030; ">(</span>newValue <span style="color:#808030; ">=</span><span style="color:#808030; ">=</span> <span style="color:#800000; font-weight:bold; ">null</span> <span style="color:#808030; ">?</span> oldValue <span style="color:#808030; ">!</span><span style="color:#808030; ">=</span> <span style="color:#800000; font-weight:bold; ">null</span> <span style="color:#808030; ">:</span> <span style="color:#808030; ">!</span>newValue<span style="color:#808030; ">.</span>equals<span style="color:#808030; ">(</span>oldValue<span style="color:#808030; ">)</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
                        result<span style="color:#808030; ">.</span>put<span style="color:#808030; ">(</span>element<span style="color:#808030; ">.</span>getFullId<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span><span style="color:#808030; ">,</span> element<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
                    <span style="color:#800080; ">}</span>
                <span style="color:#800080; ">}</span> <span style="color:#800000; font-weight:bold; ">else</span> <span style="color:#800000; font-weight:bold; ">if</span> <span style="color:#808030; ">(</span>element <span style="color:#800000; font-weight:bold; ">instanceof</span> <span style="color:#bb7977; font-weight:bold; ">Container</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
                    <span style="color:#bb7977; font-weight:bold; ">Container</span> c <span style="color:#808030; ">=</span> <span style="color:#808030; ">(</span><span style="color:#bb7977; font-weight:bold; ">Container</span><span style="color:#808030; ">)</span> element<span style="color:#800080; ">;</span>
                    <span style="color:#800000; font-weight:bold; ">for</span> <span style="color:#808030; ">(</span><span style="color:#bb7977; font-weight:bold; ">String</span> childName <span style="color:#808030; ">:</span> c<span style="color:#808030; ">.</span>getChildrensIds<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
                        result<span style="color:#808030; ">.</span>putAll<span style="color:#808030; ">(</span>getInvalidElementsRecoursive<span style="color:#808030; ">(</span>c<span style="color:#808030; ">.</span>getChild<span style="color:#808030; ">(</span>childName<span style="color:#808030; ">)</span><span style="color:#808030; ">)</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
                    <span style="color:#800080; ">}</span>
                <span style="color:#800080; ">}</span>
                <span style="color:#800000; font-weight:bold; ">return</span> result<span style="color:#800080; ">;</span>
            <span style="color:#800080; ">}</span>

        <span style="color:#800080; ">}</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

<span style="color:#800080; ">}</span>
</pre>
</div>
<p>В замене компонента теперь необходимости уже нет и можно использовать стандартный WcInput, а старые значения будут сохраняться в самом UI.
<p><div class='java'><pre>
WcGrid grid <span style="color:#808030; ">=</span> <span style="color:#800000; font-weight:bold; ">new</span> WcGrid<span style="color:#808030; ">(</span><span style="color:#008c00; ">2</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
grid<span style="color:#808030; ">.</span>addChildren<span style="color:#808030; ">(</span><span style="color:#800000; font-weight:bold; ">new</span> WcLabel<span style="color:#808030; ">(</span><span style="color:#0000e6; ">"name"</span><span style="color:#808030; ">,</span> <span style="color:#0000e6; ">"Name: "</span><span style="color:#808030; ">)</span><span style="color:#808030; ">,</span> <span style="color:#800000; font-weight:bold; ">new</span> WcInput<span style="color:#808030; ">(</span>nameModel<span style="color:#808030; ">)</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
grid<span style="color:#808030; ">.</span>addChildren<span style="color:#808030; ">(</span><span style="color:#800000; font-weight:bold; ">new</span> WcLabel<span style="color:#808030; ">(</span><span style="color:#0000e6; ">"surname"</span><span style="color:#808030; ">,</span> <span style="color:#0000e6; ">"Surame: "</span><span style="color:#808030; ">)</span><span style="color:#808030; ">,</span> <span style="color:#800000; font-weight:bold; ">new</span> WcInput<span style="color:#808030; ">(</span>surnameModel<span style="color:#808030; ">)</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
grid<span style="color:#808030; ">.</span>addChildren<span style="color:#808030; ">(</span><span style="color:#800000; font-weight:bold; ">new</span> WcLabel<span style="color:#808030; ">(</span><span style="color:#0000e6; ">"height-m"</span><span style="color:#808030; ">,</span> <span style="color:#0000e6; ">"Height, m: "</span><span style="color:#808030; ">)</span><span style="color:#808030; ">,</span> <span style="color:#800000; font-weight:bold; ">new</span> WcInput<span style="color:#808030; ">(</span>heightInMModel<span style="color:#808030; ">)</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
grid<span style="color:#808030; ">.</span>addChildren<span style="color:#808030; ">(</span><span style="color:#800000; font-weight:bold; ">new</span> WcLabel<span style="color:#808030; ">(</span><span style="color:#0000e6; ">"height-ft"</span><span style="color:#808030; ">,</span> <span style="color:#0000e6; ">"Height, ft: "</span><span style="color:#808030; ">)</span><span style="color:#808030; ">,</span> <span style="color:#800000; font-weight:bold; ">new</span> WcInput<span style="color:#808030; ">(</span>heightInFtModel<span style="color:#808030; ">)</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
grid<span style="color:#808030; ">.</span>addChildren<span style="color:#808030; ">(</span><span style="color:#800000; font-weight:bold; ">new</span> WcLabel<span style="color:#808030; ">(</span><span style="color:#0000e6; ">"weight-kg"</span><span style="color:#808030; ">,</span> <span style="color:#0000e6; ">"Weight, kg: "</span><span style="color:#808030; ">)</span><span style="color:#808030; ">,</span> <span style="color:#800000; font-weight:bold; ">new</span> WcInput<span style="color:#808030; ">(</span>weightInKgModel<span style="color:#808030; ">)</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
grid<span style="color:#808030; ">.</span>addChildren<span style="color:#808030; ">(</span><span style="color:#800000; font-weight:bold; ">new</span> WcLabel<span style="color:#808030; ">(</span><span style="color:#0000e6; ">"weight-lb"</span><span style="color:#808030; ">,</span> <span style="color:#0000e6; ">"Weight, lb: "</span><span style="color:#808030; ">)</span><span style="color:#808030; ">,</span> <span style="color:#800000; font-weight:bold; ">new</span> WcInput<span style="color:#808030; ">(</span>weightInLbModel<span style="color:#808030; ">)</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
</pre>
</div>
<p>
                    </div>
                </div>
                <div class="col3">
                    <div id="menu">
                        <div  class="menu-item"><a href="links.html">Ссылки</a></div><div  class="menu-item-disabled"><span>Примеры</span></div><div  class="menu-item"><a href="demo.html">Демо</a></div>
                    </div>
                </div>
            </div>
        </div>
        <script type="text/javascript">
            var isChrome = navigator.userAgent.toLowerCase().indexOf('chrome') > -1;
            var isFirefox = navigator.userAgent.toLowerCase().indexOf('firefox') > -1;
            if (isChrome) {
                document.getElementsByTagName('body')[0].setAttribute("class", "chrome");
            } else if (isFirefox){
                document.getElementsByTagName('body')[0].setAttribute("class", "firefox");
            }
        </script>
    </body>
</html>
