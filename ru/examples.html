<!DOCTYPE html>
<html>
    <head>
        <title>WebChunks</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <link rel="stylesheet" type="text/css" href="../css/main.css"/>
        <script type="text/javascript" src="../js/main.js"></script>
        <link rel="icon" href="../images/favicon.png" type="image/png">
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
            ga('create', 'UA-56624196-1', 'auto');
            ga('send', 'pageview');
        </script>
    </head>
    <body>
        <div id="page">
            <div id="top" class="header">
                <a href="index.html"><img id="logo" width="100" alt="webchunks" src="../images/logo_150x172.png"/></a>
                <div id="header">
                    <div id="title">WebChunks
                        <div id="line"></div>
                    </div>
                    <div id="lang-select">
                        <span>Рус</span>|<a href="../en/examples.html" onclick="setCookie('lang', 'en');">Eng</a>
                    </div>
                    <div id="header-menu">
                        <div  class="menu-item"><a href="links.html">Ссылки</a></div><div  class="menu-item-disabled"><span>Примеры</span></div><div  class="menu-item"><a href="demo.html">Демо</a></div>
                    </div>
                    <div id="subtitle"><span id="subtitile-text">Примеры</span></div>
                </div>
            </div>
            <div class="layout">
                <div class="col1">
                    <div id="home" class="menu-item"><a href="index.html">Главная</a></div>
                </div>
                <div  class="col2">
                    <div id="content">
                        <strong>К сожалению данный раздел сайта находится в разработке</strong>
<p>
<p><a class="anchor" name="contents"/><ol><li><a href="#1">Привет, Мир!</a></li><li><a href="#2">Слушатели</a></li><li><a href="#3">Модели</a></li></ol>
<p>
<p><h2><a class="to-contents" href="#contents">§</a><a class="anchor" name="1"></a>Привет, Мир!</h2>
<p>Традиционный "Hello, World". В примере рассматривается минимальное приложение, использующее WebChunks.
<p>
<p>Создадим web-приложение и подключим необходимые библиотеки. Если подключать библиотеки вручную то потребуются <strong>webchunks.core</strong>, <strong>webchunks.simpleui</strong>, <strong>google guava</strong>, <strong>apache common</strong> и <strong>jtidy</strong>. 
<p><img class="left" src="../images/examples/1/libraries.png" class="image" alt="libraries"/>
<p>Если использовать maven, то достаточно подключить только webchunks.simpleui, остальные зависимости будут загружены автоматически.
<p>
<p>Создадим необходимые классы: WcDemoServlet.java - сервлет, запускающий приложение, WcDemoApplication.java - само приложение, WcDemoPage.java - класс главной страницы.
<p><img class="left" src="../images/examples/1/classes.png" class="image" alt="classes"/>
<p><strong>WcDemoServlet.java</strong><div class='java'>
<pre><span style="color:#800000; font-weight:bold; ">package</span><span style="color:#004a43; "> demo</span><span style="color:#800080; ">;</span>


<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> java</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">util</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">Properties</span><span style="color:#800080; ">;</span>

<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">base</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">servlet</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">WebChunksServlet</span><span style="color:#800080; ">;</span>

<span style="color:#3f5fbf; ">/**</span>
<span style="color:#3f5fbf; ">&nbsp;</span><span style="color:#7f9fbf; font-weight:bold; ">*</span><span style="color:#3f5fbf; "></span>
<span style="color:#3f5fbf; ">&nbsp;</span><span style="color:#7f9fbf; font-weight:bold; ">*</span><span style="color:#3f5fbf; "> </span><span style="color:#7f9fbf; font-weight:bold; ">@author</span><span style="color:#3f5fbf; "> </span><span style="color:#7f9fbf; font-weight:bold; ">Petr Zalyautdinov (Заляутдинов Пётр) &lt;zalyautdinov.petr@gmail.com<script type="text/javascript">
/* <![CDATA[ */
(function(){try{var s,a,i,j,r,c,l,b=document.getElementsByTagName("script");l=b[b.length-1].previousSibling;a=l.getAttribute('data-cfemail');if(a){s='';r=parseInt(a.substr(0,2),16);for(j=2;a.length-j;j+=2){c=parseInt(a.substr(j,2),16)^r;s+=String.fromCharCode(c);}s=document.createTextNode(s);l.parentNode.replaceChild(s,l);}}catch(e){}})();
/* ]]> */
</script>&gt;</span><span style="color:#3f5fbf; "></span>
<span style="color:#3f5fbf; ">&nbsp;*/</span>
<span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#800000; font-weight:bold; ">class</span> WcDemoServlet <span style="color:#800000; font-weight:bold; ">extends</span> WebChunksServlet&lt;WcDemoApplication&gt; <span style="color:#800080; ">{</span>

    <span style="color:#808030; ">@</span>Override
    <span style="color:#800000; font-weight:bold; ">protected</span> WcDemoApplication createApplication<span style="color:#808030; ">(</span><span style="color:#bb7977; font-weight:bold; ">Properties</span> prprts<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#800000; font-weight:bold; ">new</span> WcDemoApplication<span style="color:#808030; ">(</span>prprts<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

<span style="color:#800080; ">}</span>
</pre>
</div>
<p>
<p><strong>WcDemoApplication.java</strong><div class='java'>
<pre><span style="color:#800000; font-weight:bold; ">package</span><span style="color:#004a43; "> demo</span><span style="color:#800080; ">;</span>

<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> java</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">util</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">Collections</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> java</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">util</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">Map</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> java</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">util</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">Properties</span><span style="color:#800080; ">;</span>

<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">base</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">application</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">Application</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">base</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">application</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">Request</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">base</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">html</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">component</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">Page</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">base</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">html</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">update</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">UpdateManager</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">base</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">resource</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">ResourceManager</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">simpleui</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">html</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">resource</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">SimpleResourceManager</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">simpleui</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">html</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">update</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">SimpleUpdateManager</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">simpleui</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">ui</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">SimpleUI</span><span style="color:#800080; ">;</span>

<span style="color:#3f5fbf; ">/**</span>
<span style="color:#3f5fbf; ">&nbsp;</span><span style="color:#7f9fbf; font-weight:bold; ">*</span><span style="color:#3f5fbf; "></span>
<span style="color:#3f5fbf; ">&nbsp;</span><span style="color:#7f9fbf; font-weight:bold; ">*</span><span style="color:#3f5fbf; "> </span><span style="color:#7f9fbf; font-weight:bold; ">@author</span><span style="color:#3f5fbf; "> </span><span style="color:#7f9fbf; font-weight:bold; ">Petr Zalyautdinov (Заляутдинов Пётр) &lt;zalyautdinov.petr@gmail.com<script type="text/javascript">
/* <![CDATA[ */
(function(){try{var s,a,i,j,r,c,l,b=document.getElementsByTagName("script");l=b[b.length-1].previousSibling;a=l.getAttribute('data-cfemail');if(a){s='';r=parseInt(a.substr(0,2),16);for(j=2;a.length-j;j+=2){c=parseInt(a.substr(j,2),16)^r;s+=String.fromCharCode(c);}s=document.createTextNode(s);l.parentNode.replaceChild(s,l);}}catch(e){}})();
/* ]]> */
</script>&gt;</span><span style="color:#3f5fbf; "></span>
<span style="color:#3f5fbf; ">&nbsp;*/</span>
<span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#800000; font-weight:bold; ">class</span> WcDemoApplication <span style="color:#800000; font-weight:bold; ">extends</span> Application&lt;SimpleUI&gt; <span style="color:#800080; ">{</span>

    <span style="color:#800000; font-weight:bold; ">public</span> WcDemoApplication<span style="color:#808030; ">(</span><span style="color:#bb7977; font-weight:bold; ">Properties</span> config<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">super</span><span style="color:#808030; ">(</span>config<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

    <span style="color:#808030; ">@</span>Override
    <span style="color:#800000; font-weight:bold; ">protected</span> UpdateManager initUpdateManager<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#800000; font-weight:bold; ">new</span> SimpleUpdateManager<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

    <span style="color:#808030; ">@</span>Override
    <span style="color:#800000; font-weight:bold; ">protected</span> ResourceManager initResourceManager<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#800000; font-weight:bold; ">new</span> SimpleResourceManager<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

    <span style="color:#808030; ">@</span>Override
    <span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#bb7977; font-weight:bold; ">String</span> getApplicationName<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#0000e6; ">"HelloWorldApp"</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

    <span style="color:#808030; ">@</span>Override
    <span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#bb7977; ">int</span> getSessionDuration<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#008c00; ">100</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

    <span style="color:#808030; ">@</span>Override
    <span style="color:#800000; font-weight:bold; ">protected</span> Page createMainPage<span style="color:#808030; ">(</span>Request rqst<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#800000; font-weight:bold; ">new</span> WcDemoPage<span style="color:#808030; ">(</span>rqst<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

    <span style="color:#808030; ">@</span>Override
    <span style="color:#800000; font-weight:bold; ">protected</span> Map<span style="color:#808030; ">&lt;</span><span style="color:#bb7977; font-weight:bold; ">String</span><span style="color:#808030; ">,</span> <span style="color:#bb7977; font-weight:bold; ">Class</span><span style="color:#808030; ">&lt;</span><span style="color:#808030; ">?</span> <span style="color:#800000; font-weight:bold; ">extends</span> Page<span style="color:#808030; ">&gt;</span><span style="color:#808030; ">&gt;</span> initPages<span style="color:#808030; ">(</span><span style="color:#bb7977; font-weight:bold; ">String</span> string<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">return</span> Collections<span style="color:#808030; ">.</span>EMPTY_MAP<span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

    <span style="color:#808030; ">@</span>Override
    <span style="color:#800000; font-weight:bold; ">protected</span> SimpleUI createUI<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#800000; font-weight:bold; ">new</span> SimpleUI<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

<span style="color:#800080; ">}</span>
</pre>
</div>
<p>
<p><strong>WcDemoPage.java</strong><div class='java'>
<pre><span style="color:#800000; font-weight:bold; ">package</span><span style="color:#004a43; "> demo</span><span style="color:#800080; ">;</span>

<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">base</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">application</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">Request</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">base</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">html</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">component</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">ContainerMutable</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">simpleui</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">html</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">WcLabel</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">simpleui</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">html</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">WcPage</span><span style="color:#800080; ">;</span>

<span style="color:#3f5fbf; ">/**</span>
<span style="color:#3f5fbf; ">&nbsp;</span><span style="color:#7f9fbf; font-weight:bold; ">*</span><span style="color:#3f5fbf; "></span>
<span style="color:#3f5fbf; ">&nbsp;</span><span style="color:#7f9fbf; font-weight:bold; ">*</span><span style="color:#3f5fbf; "> </span><span style="color:#7f9fbf; font-weight:bold; ">@author</span><span style="color:#3f5fbf; "> </span><span style="color:#7f9fbf; font-weight:bold; ">Petr Zalyautdinov (Заляутдинов Пётр) &lt;zalyautdinov.petr@gmail.com<script type="text/javascript">
/* <![CDATA[ */
(function(){try{var s,a,i,j,r,c,l,b=document.getElementsByTagName("script");l=b[b.length-1].previousSibling;a=l.getAttribute('data-cfemail');if(a){s='';r=parseInt(a.substr(0,2),16);for(j=2;a.length-j;j+=2){c=parseInt(a.substr(j,2),16)^r;s+=String.fromCharCode(c);}s=document.createTextNode(s);l.parentNode.replaceChild(s,l);}}catch(e){}})();
/* ]]> */
</script>&gt;</span><span style="color:#3f5fbf; "></span>
<span style="color:#3f5fbf; ">&nbsp;*/</span>
<span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#800000; font-weight:bold; ">class</span> WcDemoPage <span style="color:#800000; font-weight:bold; ">extends</span> WcPage <span style="color:#800080; ">{</span>

    <span style="color:#800000; font-weight:bold; ">public</span> WcDemoPage<span style="color:#808030; ">(</span>Request initData<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">super</span><span style="color:#808030; ">(</span>initData<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

    <span style="color:#808030; ">@</span>Override
    <span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#bb7977; ">void</span> init<span style="color:#808030; ">(</span>ContainerMutable cm<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        addChild<span style="color:#808030; ">(</span><span style="color:#800000; font-weight:bold; ">new</span> WcLabel<span style="color:#808030; ">(</span><span style="color:#0000e6; ">"hwLabel"</span><span style="color:#808030; ">,</span> <span style="color:#0000e6; ">"Hello, World"</span><span style="color:#808030; ">)</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

    <span style="color:#808030; ">@</span>Override
    <span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#bb7977; font-weight:bold; ">String</span> getTitle<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#0000e6; ">"WebChunks Example Page"</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

<span style="color:#800080; ">}</span>
</pre>
</div>
<p>
<p>Сконфигурируем сервлет для обработки всех запросов. Для этого исправим файл web.xml следующим образом:
<p><strong>web.xml</strong><div class='xml'>
<pre style='color:#000000;background:#ffffff;'><html><body style='color:#000000; background:#ffffff; '><pre>
<span style='color:#004a43; '>&lt;?</span><span style='color:#800000; font-weight:bold; '>xml</span><span style='color:#004a43; '> </span><span style='color:#074726; '>version</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>"</span><span style='color:#7d0045; '>1.0</span><span style='color:#0000e6; '>"</span><span style='color:#004a43; '> </span><span style='color:#074726; '>encoding</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>"</span><span style='color:#0000e6; '>UTF-8</span><span style='color:#0000e6; '>"</span><span style='color:#004a43; '>?></span>
<span style='color:#a65700; '>&lt;</span><span style='color:#5f5035; '>web-app</span> <span style='color:#274796; '>version</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>"</span><span style='color:#0000e6; '>3.0</span><span style='color:#0000e6; '>"</span>
         <span style='color:#666616; '>xmlns</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>"</span><span style='color:#666616; '>http</span><span style='color:#800080; '>:</span><span style='color:#800000; font-weight:bold; '>//</span><span style='color:#5555dd; '>java.sun.com</span><span style='color:#40015a; '>/xml/ns/javaee</span><span style='color:#0000e6; '>"</span>
         <span style='color:#666616; '>xmlns</span><span style='color:#800080; '>:</span><span style='color:#074726; '>xsi</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>"</span><span style='color:#666616; '>http</span><span style='color:#800080; '>:</span><span style='color:#800000; font-weight:bold; '>//</span><span style='color:#5555dd; '>www.w3.org</span><span style='color:#40015a; '>/2001/XMLSchema-instance</span><span style='color:#0000e6; '>"</span>
         <span style='color:#666616; '>xsi</span><span style='color:#800080; '>:</span><span style='color:#074726; '>schemaLocation</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>"</span><span style='color:#666616; '>http</span><span style='color:#800080; '>:</span><span style='color:#800000; font-weight:bold; '>//</span><span style='color:#5555dd; '>java.sun.com</span><span style='color:#40015a; '>/xml/ns/javaee</span><span style='color:#0000e6; '> </span><span style='color:#666616; '>http</span><span style='color:#800080; '>:</span><span style='color:#800000; font-weight:bold; '>//</span><span style='color:#5555dd; '>java.sun.com</span><span style='color:#40015a; '>/xml/ns/javaee/web-app_3_0.xsd</span><span style='color:#0000e6; '>"</span><span style='color:#a65700; '>></span>
    <span style='color:#a65700; '>&lt;</span><span style='color:#5f5035; '>servlet</span><span style='color:#a65700; '>></span>
        <span style='color:#a65700; '>&lt;</span><span style='color:#5f5035; '>servlet-name</span><span style='color:#a65700; '>></span>WcDemoServlet<span style='color:#a65700; '>&lt;/</span><span style='color:#5f5035; '>servlet-name</span><span style='color:#a65700; '>></span>
        <span style='color:#a65700; '>&lt;</span><span style='color:#5f5035; '>servlet-class</span><span style='color:#a65700; '>></span>demo.WcDemoServlet<span style='color:#a65700; '>&lt;/</span><span style='color:#5f5035; '>servlet-class</span><span style='color:#a65700; '>></span>
    <span style='color:#a65700; '>&lt;/</span><span style='color:#5f5035; '>servlet</span><span style='color:#a65700; '>></span>
    <span style='color:#a65700; '>&lt;</span><span style='color:#5f5035; '>servlet-mapping</span><span style='color:#a65700; '>></span>
        <span style='color:#a65700; '>&lt;</span><span style='color:#5f5035; '>servlet-name</span><span style='color:#a65700; '>></span>WcDemoServlet<span style='color:#a65700; '>&lt;/</span><span style='color:#5f5035; '>servlet-name</span><span style='color:#a65700; '>></span>
        <span style='color:#a65700; '>&lt;</span><span style='color:#5f5035; '>url-pattern</span><span style='color:#a65700; '>></span>/*<span style='color:#a65700; '>&lt;/</span><span style='color:#5f5035; '>url-pattern</span><span style='color:#a65700; '>></span>
    <span style='color:#a65700; '>&lt;/</span><span style='color:#5f5035; '>servlet-mapping</span><span style='color:#a65700; '>></span>
    <span style='color:#a65700; '>&lt;</span><span style='color:#5f5035; '>session-config</span><span style='color:#a65700; '>></span>
        <span style='color:#a65700; '>&lt;</span><span style='color:#5f5035; '>session-timeout</span><span style='color:#a65700; '>></span>
            30
        <span style='color:#a65700; '>&lt;/</span><span style='color:#5f5035; '>session-timeout</span><span style='color:#a65700; '>></span>
    <span style='color:#a65700; '>&lt;/</span><span style='color:#5f5035; '>session-config</span><span style='color:#a65700; '>></span>
<span style='color:#a65700; '>&lt;/</span><span style='color:#5f5035; '>web-app</span><span style='color:#a65700; '>></span>
</pre>
</div>
<p>
<p>Собираем, запускаем и смотрим на результат:
<p><img class="left" src="../images/examples/1/app.png" class="image" alt="app"/>
<p>
<p>Для загрузки существующего Netbeans проекта, пожалуйста, перейдите по этой <a class="download" href="../files/examples/1/WcDemo.tar.gz">ссылке</a>.
<p>
<p><h2><a class="to-contents" href="#contents">§</a><a class="anchor" name="2"></a>Слушатели</h2>
<p>В этом примере рассматривается работа со слушателями.
<p>Слегка изменим код класса WcDemoPage из предыдущего примера.
<p><strong>WcDemoPage.java</strong><div class='java'>
<pre><span style="color:#800000; font-weight:bold; ">package</span><span style="color:#004a43; "> demo</span><span style="color:#800080; ">;</span>

<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">base</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">application</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">Request</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">base</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">event</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">EventValueChange</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">base</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">html</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">component</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">ContainerMutable</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">base</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">listener</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">ValueListener</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">simpleui</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">html</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">WcInput</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">simpleui</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">html</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">WcLabel</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">simpleui</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">html</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">WcPage</span><span style="color:#800080; ">;</span>

<span style="color:#3f5fbf; ">/**</span>
<span style="color:#3f5fbf; ">&nbsp;</span><span style="color:#7f9fbf; font-weight:bold; ">*</span><span style="color:#3f5fbf; "></span>
<span style="color:#3f5fbf; ">&nbsp;</span><span style="color:#7f9fbf; font-weight:bold; ">*</span><span style="color:#3f5fbf; "> </span><span style="color:#7f9fbf; font-weight:bold; ">@author</span><span style="color:#3f5fbf; "> </span><span style="color:#7f9fbf; font-weight:bold; ">Petr Zalyautdinov (Заляутдинов Пётр) &lt;zalyautdinov.petr@gmail.com<script type="text/javascript">
/* <![CDATA[ */
(function(){try{var s,a,i,j,r,c,l,b=document.getElementsByTagName("script");l=b[b.length-1].previousSibling;a=l.getAttribute('data-cfemail');if(a){s='';r=parseInt(a.substr(0,2),16);for(j=2;a.length-j;j+=2){c=parseInt(a.substr(j,2),16)^r;s+=String.fromCharCode(c);}s=document.createTextNode(s);l.parentNode.replaceChild(s,l);}}catch(e){}})();
/* ]]> */
</script>&gt;</span><span style="color:#3f5fbf; "></span>
<span style="color:#3f5fbf; ">&nbsp;*/</span>
<span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#800000; font-weight:bold; ">class</span> WcDemoPage <span style="color:#800000; font-weight:bold; ">extends</span> WcPage <span style="color:#800080; ">{</span>

    <span style="color:#800000; font-weight:bold; ">private</span> <span style="color:#800000; font-weight:bold; ">final</span> WcInput nameInput <span style="color:#808030; ">=</span> <span style="color:#800000; font-weight:bold; ">new</span> WcInput<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
    <span style="color:#800000; font-weight:bold; ">private</span> <span style="color:#800000; font-weight:bold; ">final</span> WcLabel helloLabel <span style="color:#808030; ">=</span> <span style="color:#800000; font-weight:bold; ">new</span> WcLabel<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>

    <span style="color:#800000; font-weight:bold; ">public</span> WcDemoPage<span style="color:#808030; ">(</span>Request initData<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">super</span><span style="color:#808030; ">(</span>initData<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

    <span style="color:#808030; ">@</span>Override
    <span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#bb7977; ">void</span> init<span style="color:#808030; ">(</span>ContainerMutable cm<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        addChild<span style="color:#808030; ">(</span>nameInput<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
        addChild<span style="color:#808030; ">(</span>helloLabel<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
        nameInput<span style="color:#808030; ">.</span>addListener<span style="color:#808030; ">(</span><span style="color:#800000; font-weight:bold; ">new</span> ValueListener<span style="color:#808030; ">&lt;</span><span style="color:#bb7977; font-weight:bold; ">String</span><span style="color:#808030; ">&gt;</span><span style="color:#808030; ">(</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>

            <span style="color:#808030; ">@</span>Override
            <span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#bb7977; ">void</span> valueChanged<span style="color:#808030; ">(</span>EventValueChange<span style="color:#808030; ">&lt;</span><span style="color:#bb7977; font-weight:bold; ">String</span><span style="color:#808030; ">&gt;</span> evc<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
                helloLabel<span style="color:#808030; ">.</span>setText<span style="color:#808030; ">(</span><span style="color:#0000e6; ">"Hello, "</span> <span style="color:#808030; ">+</span> nameInput<span style="color:#808030; ">.</span>getValue<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
            <span style="color:#800080; ">}</span>
        <span style="color:#800080; ">}</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
        nameInput<span style="color:#808030; ">.</span>setValue<span style="color:#808030; ">(</span><span style="color:#0000e6; ">"World"</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

    <span style="color:#808030; ">@</span>Override
    <span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#bb7977; font-weight:bold; ">String</span> getTitle<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#0000e6; ">"WebChunks Example Page"</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

<span style="color:#800080; ">}</span>
</pre>
</div>
<p>Теперь текст надписи будет автоматически синхронизироваться с полем ввода:
<p><img class="left" src="../images/examples/2/app.png" class="image" alt="app"/>
<p>
<p><h2><a class="to-contents" href="#contents">§</a><a class="anchor" name="3"></a>Модели</h2>
<p>
<p>В данном примере рассматриваются возможности применения моделей, пока в отрыве от реальных задач.
<p>Изменим WcDemoPage следующим образом:
<p>
<p><strong>WcDemoPage.java</strong><div class='java'>
<pre><span style="color:#800000; font-weight:bold; ">package</span><span style="color:#004a43; "> demo</span><span style="color:#800080; ">;</span>

<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">base</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">application</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">Request</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">base</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">html</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">component</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">ContainerMutable</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">simpleui</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">html</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">WcInput</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">simpleui</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">html</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">WcPage</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">simpleui</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">html</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">WcPanel</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">import</span><span style="color:#004a43; "> org</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">webchunks</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">simpleui</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">model</span><span style="color:#808030; ">.</span><span style="color:#004a43; ">StringModel</span><span style="color:#800080; ">;</span>

<span style="color:#3f5fbf; ">/**</span>
<span style="color:#3f5fbf; ">&nbsp;</span><span style="color:#7f9fbf; font-weight:bold; ">*</span><span style="color:#3f5fbf; "></span>
<span style="color:#3f5fbf; ">&nbsp;</span><span style="color:#7f9fbf; font-weight:bold; ">*</span><span style="color:#3f5fbf; "> </span><span style="color:#7f9fbf; font-weight:bold; ">@author</span><span style="color:#3f5fbf; "> </span><span style="color:#7f9fbf; font-weight:bold; ">Petr Zalyautdinov (Заляутдинов Пётр) &lt;zalyautdinov.petr@gmail.com<script type="text/javascript">
/* <![CDATA[ */
(function(){try{var s,a,i,j,r,c,l,b=document.getElementsByTagName("script");l=b[b.length-1].previousSibling;a=l.getAttribute('data-cfemail');if(a){s='';r=parseInt(a.substr(0,2),16);for(j=2;a.length-j;j+=2){c=parseInt(a.substr(j,2),16)^r;s+=String.fromCharCode(c);}s=document.createTextNode(s);l.parentNode.replaceChild(s,l);}}catch(e){}})();
/* ]]> */
</script>&gt;</span><span style="color:#3f5fbf; "></span>
<span style="color:#3f5fbf; ">&nbsp;*/</span>
<span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#800000; font-weight:bold; ">class</span> WcDemoPage <span style="color:#800000; font-weight:bold; ">extends</span> WcPage <span style="color:#800080; ">{</span>

    <span style="color:#800000; font-weight:bold; ">public</span> WcDemoPage<span style="color:#808030; ">(</span>Request initData<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">super</span><span style="color:#808030; ">(</span>initData<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

    <span style="color:#808030; ">@</span>Override
    <span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#bb7977; ">void</span> init<span style="color:#808030; ">(</span>ContainerMutable cm<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        WcInput inputOriginal <span style="color:#808030; ">=</span> <span style="color:#800000; font-weight:bold; ">new</span> WcInput<span style="color:#808030; ">(</span><span style="color:#0000e6; ">"input-original"</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
        StringModel modelOriginal <span style="color:#808030; ">=</span> inputOriginal<span style="color:#808030; ">.</span>getModel<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
        addChild<span style="color:#808030; ">(</span>inputOriginal<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
        <span style="color:#800000; font-weight:bold; ">for</span> <span style="color:#808030; ">(</span><span style="color:#bb7977; ">int</span> i <span style="color:#808030; ">=</span> <span style="color:#008c00; ">0</span><span style="color:#800080; ">;</span> i <span style="color:#808030; ">&lt;</span> <span style="color:#008c00; ">5</span><span style="color:#800080; ">;</span> i<span style="color:#808030; ">+</span><span style="color:#808030; ">+</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
            WcPanel wcPanel <span style="color:#808030; ">=</span> <span style="color:#800000; font-weight:bold; ">new</span> WcPanel<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
            wcPanel<span style="color:#808030; ">.</span>addChild<span style="color:#808030; ">(</span><span style="color:#800000; font-weight:bold; ">new</span> WcInput<span style="color:#808030; ">(</span><span style="color:#0000e6; ">"input-copy-"</span><span style="color:#808030; ">+</span>i<span style="color:#808030; ">,</span> modelOriginal<span style="color:#808030; ">)</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
            addChild<span style="color:#808030; ">(</span>wcPanel<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
        <span style="color:#800080; ">}</span>
        inputOriginal<span style="color:#808030; ">.</span>setValue<span style="color:#808030; ">(</span><span style="color:#0000e6; ">"Same text!"</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

    <span style="color:#808030; ">@</span>Override
    <span style="color:#800000; font-weight:bold; ">public</span> <span style="color:#bb7977; font-weight:bold; ">String</span> getTitle<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#0000e6; ">"WebChunks Example Page"</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

<span style="color:#800080; ">}</span>
</pre>
</div>
<p>
<p>В примере создаются несколько полей текстового ввода, связанных с одной моделью. В результате изменения на форме любого поля текст в остальных полях становится таким же.
<p><img class="left" src="../images/examples/3/app.png" class="image" alt="app"/>
<p>
                    </div>
                </div>
                <div class="col3">
                    <div id="menu">
                        <div  class="menu-item"><a href="links.html">Ссылки</a></div><div  class="menu-item-disabled"><span>Примеры</span></div><div  class="menu-item"><a href="demo.html">Демо</a></div>
                    </div>
                </div>
            </div>
        </div>
        <script type="text/javascript">
            var isChrome = navigator.userAgent.toLowerCase().indexOf('chrome') > -1;
            var isFirefox = navigator.userAgent.toLowerCase().indexOf('firefox') > -1;
            if (isChrome) {
                document.getElementsByTagName('body')[0].setAttribute("class", "chrome");
            } else if (isFirefox){
                document.getElementsByTagName('body')[0].setAttribute("class", "firefox");
            }
        </script>
    </body>
</html>
